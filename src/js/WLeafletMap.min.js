WT_DECLARE_WT_MEMBER(1,JavaScriptConstructor,"WLeafletMap",function(i,e,m,j,k,l){e.wtObj&&e.wtObj.map.remove();e.wtObj=this;var c=this;this.map=null;var f={},h=l,g=[j,k];this.addTileLayer=function(b,a){a=JSON.parse(a);L.tileLayer(b,a).addTo(c.map)};this.zoom=function(b){h=b;c.map.setZoom(b)};this.panTo=function(b,a){g=[b,a];c.map.panTo([b,a])};this.addPolyline=function(b,a){a=JSON.parse(a);L.polyline(b,a).addTo(c.map)};this.addCircle=function(b,a){a=JSON.parse(a);L.circle(b,a).addTo(c.map)};this.addMarker=
function(b,a){a.addTo(c.map);f[b]=a};this.removeMarker=function(b){var a=f[b];if(a){c.map.removeLayer(a);delete f[b]}};this.moveMarker=function(b,a){(b=f[b])&&b.setLatLng(a)};this.wtResize=function(){c.map.invalidateSize()};e.wtEncodeValue=function(){var b=c.map.getCenter();b=[b.lat,b.lng];var a=c.map.getZoom();return JSON.stringify({position:b,zoom:a})};this.init=function(b,a,n){b=JSON.parse(b);b.center=a;b.zoom=n;c.map=L.map(e,b);a=parseInt(function(){for(var d=e.parentNode;d;){if(d.wtPopup)return d.style.zIndex;
d=d.parentNode}return 0}(),10);if(a>0){c.map.getPane("tilePane").style.zIndex=a+200;c.map.getPane("overlayPane").style.zIndex=a+400;c.map.getPane("shadowPane").style.zIndex=a+500;c.map.getPane("markerPane").style.zIndex=a+600;c.map.getPane("tooltipPane").style.zIndex=a+650;c.map.getPane("popupPane").style.zIndex=a+700}c.map.on("zoomend",function(){var d=c.map.getZoom();if(d!=h){i.emit(e,"zoomLevelChanged",d);h=d}});c.map.on("moveend",function(){var d=c.map.getCenter();if(d.lat!=g[0]||d.lng!=g[1]){i.emit(e,
"panChanged",d.lat,d.lng);g=[d.lat,d.lng]}})};this.init(m,[j,k],l)});
