WT_DECLARE_WT_MEMBER_BIG(1,JavaScriptConstructor,"WCartesianChart",function(wa,J,A,l){function N(a){return a===undefined}function o(a){return l.modelAreas[a]}function V(){return l.followCurve}function xa(){return l.crosshair||V()!==-1}function B(){return l.isHorizontal}function i(){return l.xTransform}function g(a){return l.yTransforms[a]}function h(){return l.area}function n(){return l.insideArea}function da(a){return N(a)?l.series:l.series[a]}function ea(a){return da(a).transform}function kb(a){return B()?
w([0,1,1,0,0,0],w(ea(a),[0,1,1,0,0,0])):ea(a)}function Pa(a){return da(a).curve}function P(a){return da(a).axis}function lb(){return l.seriesSelection}function mb(){return l.sliders}function nb(){return l.hasToolTips}function ob(){return l.coordinateOverlayPadding}function Ga(){return l.curveManipulation}function Qa(){return l.minZoom.x}function pb(a){return l.minZoom.y[a]}function fa(){return l.maxZoom.x}function T(a){return l.maxZoom.y[a]}function K(){return l.pens}function qb(){return l.penAlpha}
function W(){return l.selectedCurve}function ya(a){a.preventDefault&&a.preventDefault()}function ga(a,b){J.addEventListener(a,b)}function X(a,b){J.removeEventListener(a,b)}function y(a){return a.length}function M(){return y(l.yTransforms)}function Bb(){if(l.notifyTransform.x)return true;for(var a=0;a<M();++a)if(l.notifyTransform.y[a])return true;return false}function Q(){return l.crosshairAxis}function bb(a){return a.pointerType===2||a.pointerType===3||a.pointerType==="pen"||a.pointerType==="touch"}
function Ra(){if(p){if(p.tooltipTimeout){clearTimeout(p.tooltipTimeout);p.tooltipTimeout=null}if(!p.overTooltip)if(p.tooltipOuterDiv){document.body.removeChild(p.tooltipOuterDiv);p.toolTipEl=null;p.tooltipOuterDiv=null}}}function Ha(){if(Bb()){if(Sa){window.clearTimeout(Sa);Sa=null}Sa=setTimeout(function(){if(l.notifyTransform.x&&!rb(cb,i())){wa.emit(A.widget,"xTransformChanged");ka(cb,i())}for(var a=0;a<M();++a)if(l.notifyTransform.y[a]&&!rb(Ta[a],g(a))){wa.emit(A.widget,"yTransformChanged"+a);ka(Ta[a],
g(a))}},Cb)}}function la(a){if(a===undefined)a=0;var b,c;if(B()){b=q(h());c=x(h());return w([0,1,1,0,b,c],w(i(),w(g(a),[0,1,1,0,-c,-b])))}else{b=q(h());c=z(h());return w([1,0,0,-1,b,c],w(i(),w(g(a),[1,0,0,-1,-b,c])))}}function F(a){return w(la(a),n())}function ma(a,b,c){if(N(c))c=false;a=c?a:w(Ia(la(b)),a);a=B()?[(a[u]-h()[1])/h()[3],(a[v]-h()[0])/h()[2]]:[(a[v]-h()[0])/h()[2],1-(a[u]-h()[1])/h()[3]];return[o(b)[0]+a[v]*o(b)[2],o(b)[1]+a[u]*o(b)[3]]}function Ua(a,b,c){if(N(c))c=false;return Y.toDisplayCoord(a,
c?[1,0,0,1,0,0]:la(b),B(),h(),o(b))}function Ja(){var a,b;if(B()){a=(ma([0,x(h())],0)[0]-o(0)[0])/o(0)[2];b=(ma([0,z(h())],0)[0]-o(0)[0])/o(0)[2]}else{a=(ma([q(h()),0],0)[0]-o(0)[0])/o(0)[2];b=(ma([s(h()),0],0)[0]-o(0)[0])/o(0)[2]}var c;for(c=0;c<y(mb());++c){var d=$("#"+mb()[c]);if(d)(d=d.data("sobj"))&&d.changeRange(a,b)}}function Z(){Ra();if(nb()&&p.tooltipPosition)p.tooltipTimeout=setTimeout(function(){sb()},tb);na&&ub(function(){A.repaint();xa()&&db()})}function db(){if(na){var a=I.getContext("2d");
a.clearRect(0,0,I.width,I.height);a.save();a.beginPath();a.moveTo(q(h()),x(h()));a.lineTo(s(h()),x(h()));a.lineTo(s(h()),z(h()));a.lineTo(q(h()),z(h()));a.closePath();a.clip();var b=w(Ia(la(Q())),C),c=C[v],d=C[u];if(V()!==-1){b=Db(B()?b[u]:b[v],Pa(V()),B());d=w(la(P(V())),w(kb(V()),b));c=d[v];d=d[u];C[v]=c;C[u]=d}b=B()?[(b[u]-h()[1])/h()[3],(b[v]-h()[0])/h()[2]]:[(b[v]-h()[0])/h()[2],1-(b[u]-h()[1])/h()[3]];b=V()!==-1?[o(P(V()))[0]+b[v]*o(P(V()))[2],o(P(V()))[1]+b[u]*o(P(V()))[3]]:[o(Q())[0]+b[v]*
o(Q())[2],o(Q())[1]+b[u]*o(Q())[3]];a.fillStyle=a.strokeStyle=l.crosshairColor;a.font="16px sans-serif";a.textAlign="right";a.textBaseline="top";var e=b[0].toFixed(2);b=b[1].toFixed(2);if(e==="-0.00")e="0.00";if(b==="-0.00")b="0.00";a.fillText("("+e+","+b+")",s(h())-ob()[0],x(h())+ob()[1]);a.setLineDash&&a.setLineDash([1,2]);a.beginPath();a.moveTo(Math.floor(c)+0.5,Math.floor(x(h()))+0.5);a.lineTo(Math.floor(c)+0.5,Math.floor(z(h()))+0.5);a.moveTo(Math.floor(q(h()))+0.5,Math.floor(d)+0.5);a.lineTo(Math.floor(s(h()))+
0.5,Math.floor(d)+0.5);a.stroke();a.restore()}}function Eb(a){return x(a)<=x(n())+Va&&z(a)>=z(n())-Va&&q(a)<=q(n())+Va&&s(a)>=s(n())-Va}function ha(a){for(var b=0;b<M();++b){var c=F(b);if(B())if(a===za)a=Aa;else if(a===Aa)a=za;if(N(a)||a===za)if(i()[0]<1){i()[0]=1;c=F(b)}if(N(a)||a===Aa)if(g(b)[3]<1){g(b)[3]=1;c=F(b)}if(N(a)||a===za){if(q(c)>q(n())){c=q(n())-q(c);if(B())g(b)[5]=g(b)[5]+c;else i()[4]=i()[4]+c;c=F(b)}if(s(c)<s(n())){c=s(n())-s(c);if(B())g(b)[5]=g(b)[5]+c;else i()[4]=i()[4]+c;c=F(b)}}if(N(a)||
a===Aa){if(x(c)>x(n())){c=x(n())-x(c);if(B())i()[4]=i()[4]+c;else g(b)[5]=g(b)[5]-c;c=F(b)}if(z(c)<z(n())){c=z(n())-z(c);if(B())i()[4]=i()[4]+c;else g(b)[5]=g(b)[5]-c;F(b)}}}Ha()}function sb(){p.toolTipEl||wa.emit(A.widget,"loadTooltip",p.tooltipPosition[v],p.tooltipPosition[u])}function Fb(){if(xa()&&(N(I)||A.canvas.width!==I.width||A.canvas.height!==I.height)){if(I){I.parentNode.removeChild(I);delete J.wtOObj;I=undefined}var a=document.createElement("canvas");a.setAttribute("width",A.canvas.width);
a.setAttribute("height",A.canvas.height);a.style.position="absolute";a.style.display="block";a.style.left="0";a.style.top="0";if(window.MSPointerEvent||window.PointerEvent){a.style.msTouchAction="none";a.style.touchAction="none"}A.canvas.parentNode.appendChild(a);I=a;J.wtOObj=I}else if(!N(I)&&!xa()){I.parentNode.removeChild(I);delete J.wtOObj;I=undefined}C=[(q(h())+s(h()))/2,(x(h())+z(h()))/2]}function vb(){return I?I:A.canvas}function eb(a,b){if(Ba){var c=Date.now();if(N(b))b=c-oa;var d={x:0,y:0},
e;if(G)e=F(0);else if(t===-1){e=F(0);for(var f=1;f<M();++f)e=Wa(e,F(f))}else e=F(t);f=Gb;if(b>2*Ka){na=false;var j=Math.floor(b/Ka-1),m;for(m=0;m<j;++m){eb(a,Ka);if(!Ba){na=true;Z();return}}b-=j*Ka;na=true}if(k.x===Infinity||k.x===-Infinity)k.x=k.x>0?pa:-pa;if(isFinite(k.x)){k.x/=1+wb*b;e[0]+=k.x*b;if(q(e)>q(n())){k.x+=-f*(q(e)-q(n()))*b;k.x*=0.7}else if(s(e)<s(n())){k.x+=-f*(s(e)-s(n()))*b;k.x*=0.7}if(Math.abs(k.x)<fb)if(q(e)>q(n()))k.x=fb;else if(s(e)<s(n()))k.x=-fb;if(Math.abs(k.x)>pa)k.x=(k.x>
0?1:-1)*pa;d.x=k.x*b}if(k.y===Infinity||k.y===-Infinity)k.y=k.y>0?pa:-pa;if(isFinite(k.y)){k.y/=1+wb*b;e[1]+=k.y*b;if(x(e)>x(n())){k.y+=-f*(x(e)-x(n()))*b;k.y*=0.7}else if(z(e)<z(n())){k.y+=-f*(z(e)-z(n()))*b;k.y*=0.7}if(Math.abs(k.y)<0.001)if(x(e)>x(n()))k.y=0.001;else if(z(e)<z(n()))k.y=-0.001;if(Math.abs(k.y)>pa)k.y=(k.y>0?1:-1)*pa;d.y=k.y*b}if(G)e=F(0);else if(t===-1){e=F(0);for(f=1;f<M();++f)e=Wa(e,F(f))}else e=F(t);aa(d,Ca,t,G);if(G)a=F(0);else if(t===-1){a=F(0);for(f=1;f<M();++f)a=Wa(a,F(f))}else a=
F(t);if(q(e)>q(n())&&q(a)<=q(n())){k.x=0;aa({x:-d.x,y:0},Ca,t,G);ha(za)}if(s(e)<s(n())&&s(a)>=s(n())){k.x=0;aa({x:-d.x,y:0},Ca,t,G);ha(za)}if(x(e)>x(n())&&x(a)<=x(n())){k.y=0;aa({x:0,y:-d.y},Ca,t,G);ha(Aa)}if(z(e)<z(n())&&z(a)>=z(n())){k.y=0;aa({x:0,y:-d.y},Ca,t,G);ha(Aa)}if(Math.abs(k.x)<xb&&Math.abs(k.y)<xb&&Eb(a)){ha();Ba=false;D=null;k.x=0;k.y=0;oa=null;r=[]}else{oa=c;na&&Xa(eb)}}}function Ya(){var a,b,c=yb(i()[0])-1;if(i()[0]==fa())c=y(K().x)-1;if(c>=y(K().x))c=y(K().x)-1;for(a=0;a<y(K().x);++a)if(c===
a)for(b=0;b<y(K().x[a]);++b)K().x[a][b].color[3]=qb().x[b];else for(b=0;b<y(K().x[a]);++b)K().x[a][b].color[3]=0;for(c=0;c<y(K().y);++c){var d=yb(g(c)[3])-1;if(g(c)[3]==T(c))d=y(K().y[c])-1;if(d>=y(K().y[c]))d=y(K().y[c])-1;for(a=0;a<y(K().y[c]);++a)if(d===a)for(b=0;b<y(K().y[c][a]);++b)K().y[c][a][b].color[3]=qb().y[c][b];else for(b=0;b<y(K().y[c][a]);++b)K().y[c][a][b].color[3]=0}}function aa(a,b,c,d){if(N(b))b=0;if(N(c))c=-1;if(N(d))d=false;var e=ma(C,Q());if(B())a={x:a.y,y:-a.x};if(b&Ca){if(d)i()[4]=
i()[4]+a.x;else if(c===-1){i()[4]=i()[4]+a.x;for(b=0;b<M();++b)g(b)[5]=g(b)[5]-a.y}else g(c)[5]=g(c)[5]-a.y;Ha()}else if(b&zb){var f;if(d)f=F(0);else if(c===-1){f=F(0);for(b=1;b<M();++b)f=Wa(f,F(b))}else f=F(c);if(q(f)>q(n())){if(a.x>0)a.x/=1+(q(f)-q(n()))*Za}else if(s(f)<s(n()))if(a.x<0)a.x/=1+(s(n())-s(f))*Za;if(x(f)>x(n())){if(a.y>0)a.y/=1+(x(f)-x(n()))*Za}else if(z(f)<z(n()))if(a.y<0)a.y/=1+(z(n())-z(f))*Za;if(d)i()[4]=i()[4]+a.x;else if(c===-1){i()[4]=i()[4]+a.x;for(b=0;b<M();++b)g(b)[5]=g(b)[5]-
a.y}else g(c)[5]=g(c)[5]-a.y;if(c===-1)C[v]+=a.x;d||(C[u]+=a.y);Ha()}else{if(d)i()[4]=i()[4]+a.x;else if(c===-1){i()[4]=i()[4]+a.x;for(b=0;b<M();++b)g(b)[5]=g(b)[5]-a.y}else g(c)[5]=g(c)[5]-a.y;if(c===-1)C[v]+=a.x;d||(C[u]+=a.y);ha()}a=Ua(e,Q());C[v]=a[v];C[u]=a[u];Z();Ja()}function La(a,b,c,d,e){if(N(d))d=-1;if(N(e))e=false;var f=ma(C,Q());a=B()?[a.y-x(h()),a.x-q(h())]:w(Ia([1,0,0,-1,q(h()),z(h())]),[a.x,a.y]);var j=a[0];a=a[1];var m=Math.pow(1.2,B()?c:b);b=Math.pow(1.2,B()?b:c);if(i()[0]*m>fa())m=
fa()/i()[0];if(i()[0]*m<Qa())m=Qa()/i()[0];if(e){if(m<1||i()[0]!==fa())qa(i(),w([m,0,0,1,j-m*j,0],i()))}else if(d===-1){if(m<1||i()[0]!==fa())qa(i(),w([m,0,0,1,j-m*j,0],i()));for(d=0;d<M();++d){e=b;if(g(d)[3]*b>T(d))e=T(d)/g(d)[3];if(e<1||g(d)[3]!==T(d))qa(g(d),w([1,0,0,e,0,a-e*a],g(d)))}}else{if(g(d)[3]*b>T(d))b=T(d)/g(d)[3];if(b<1||g(d)[3]!=T(d))qa(g(d),w([1,0,0,b,0,a-b*a],g(d)))}ha();f=Ua(f,Q());C[v]=f[v];C[u]=f[u];Ya();Z();Ja()}J.wtCObj=this;var ia=this,E=wa.WT;ia.config=l;var H=E.gfxUtils,w=
H.transform_mult,Ia=H.transform_inverted,ka=H.transform_assign,rb=H.transform_equal,Hb=H.transform_apply,x=H.rect_top,z=H.rect_bottom,q=H.rect_left,s=H.rect_right,Wa=H.rect_intersection,Y=E.chartCommon,Ib=Y.minMaxY,Db=Y.findClosestPoint,Jb=Y.projection,Ab=Y.distanceLessThanRadius,yb=Y.toZoomLevel,Ma=Y.isPointInRect,Kb=Y.findYRange,Na=function(a,b){return Y.matchesXAxis(a,b,h(),l.xAxis,B())},Oa=function(a,b){return Y.matchYAxis(a,b,h(),l.yAxes,B())},Ka=17,Xa=function(){return window.requestAnimationFrame||
window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(a){window.setTimeout(a,Ka)}}(),gb=false,ub=function(a){if(!gb){gb=true;Xa(function(){a();gb=false})}};if(window.MSPointerEvent||window.PointerEvent){J.style.touchAction="none";A.canvas.style.msTouchAction="none";A.canvas.style.touchAction="none"}var Ca=1,zb=2,za=1,Aa=2,v=0,u=1,Cb=250,tb=500,wb=0.003,Gb=2.0E-4,Za=0.07,Va=3,fb=0.001,pa=1.5,xb=0.02,ta=J.wtEObj2;if(!ta){ta={};ta.contextmenuListener=function(a){ya(a);X("contextmenu",
ta.contextmenuListener)}}J.wtEObj2=ta;var ba={},ua=false;if(window.MSPointerEvent||window.PointerEvent)(function(){function a(){ua=y(e)>0}function b(j){if(bb(j)){ya(j);e.push(j);a();ba.start(J,{touches:e.slice(0)})}}function c(j){if(ua)if(bb(j)){ya(j);var m;for(m=0;m<y(e);++m)if(e[m].pointerId===j.pointerId){e.splice(m,1);break}a();ba.end(J,{touches:e.slice(0),changedTouches:[]})}}function d(j){if(bb(j)){ya(j);var m;for(m=0;m<y(e);++m)if(e[m].pointerId===j.pointerId){e[m]=j;break}a();ba.moved(J,{touches:e.slice(0)})}}
var e=[],f=J.wtEObj;if(f)if(window.PointerEvent){X("pointerdown",f.pointerDown);X("pointerup",f.pointerUp);X("pointerout",f.pointerUp);X("pointermove",f.pointerMove)}else{X("MSPointerDown",f.pointerDown);X("MSPointerUp",f.pointerUp);X("MSPointerOut",f.pointerUp);X("MSPointerMove",f.pointerMove)}J.wtEObj={pointerDown:b,pointerUp:c,pointerMove:d};if(window.PointerEvent){ga("pointerdown",b);ga("pointerup",c);ga("pointerout",c);ga("pointermove",d)}else{ga("MSPointerDown",b);ga("MSPointerUp",c);ga("MSPointerOut",
c);ga("MSPointerMove",d)}})();var I=J.wtOObj,C=null,na=true,D=null,G=false,t=-1,r=[],ja=false,ra=false,U=null,hb=null,ib=null,k={x:0,y:0},ca=null,oa=null,p=J.wtTObj;if(!p){p={overTooltip:false};J.wtTObj=p}var Da=null,Ba=false,Sa=null,cb=[0,0,0,0,0,0];ka(cb,i());var Ta=[];for(H=0;H<M();++H){Ta.push([0,0,0,0,0,0]);ka(Ta[H],g(H))}var qa=function(a,b){ka(a,b);Ha()};A.combinedTransform=la;this.updateTooltip=function(a){Ra();if(a)if(p.tooltipPosition){p.toolTipEl=document.createElement("div");p.toolTipEl.className=
l.ToolTipInnerStyle;p.toolTipEl.innerHTML=a;p.tooltipOuterDiv=document.createElement("div");p.tooltipOuterDiv.className=l.ToolTipOuterStyle;document.body.appendChild(p.tooltipOuterDiv);p.tooltipOuterDiv.appendChild(p.toolTipEl);var b=E.widgetPageCoordinates(A.canvas);a=p.tooltipPosition[v]+b.x;b=p.tooltipPosition[u]+b.y;E.fitToWindow(p.tooltipOuterDiv,a+10,b+10,a-10,b-10);$(p.toolTipEl).mouseenter(function(){p.overTooltip=true});$(p.toolTipEl).mouseleave(function(){p.overTooltip=false})}};this.mouseMove=
function(a,b){setTimeout(function(){setTimeout(Ra,200);if(!ua){var c=E.widgetCoordinates(A.canvas,b);if(Ma(c,h())){if(nb()){p.tooltipPosition=[c.x,c.y];p.tooltipTimeout=setTimeout(function(){sb()},tb)}if(D===null&&xa()&&na){C=[c.x,c.y];ub(db)}}}},0)};this.mouseOut=function(){setTimeout(Ra,200)};this.mouseDown=function(a,b){if(!ua){a=E.widgetCoordinates(A.canvas,b);b=Oa(a.x,a.y);var c=Ma(a,h()),d=Na(a.x,a.y);if(!(b===-1&&!d&&!c)){D=a;G=d;t=b}}};this.mouseUp=function(){if(!ua){D=null;G=false;t=-1}};
this.mouseDrag=function(a,b){if(!ua)if(D===null)ia.mouseDown(a,b);else{a=E.widgetCoordinates(A.canvas,b);if(E.buttons===1)if(t===-1&&!G&&Ga()&&da(W())){b=W();var c;c=B()?a.x-D.x:a.y-D.y;ka(ea(b),w([1,0,0,1,0,c/g(P(W()))[3]],ea(b)));Z()}else l.pan&&aa({x:a.x-D.x,y:a.y-D.y},0,t,G);D=a}};this.clicked=function(a,b){if(!ua)if(D===null)if(lb()){a=E.widgetCoordinates(A.canvas,b);wa.emit(A.widget,"seriesSelected",a.x,a.y)}};this.mouseWheel=function(a,b){var c=(b.metaKey<<3)+(b.altKey<<2)+(b.ctrlKey<<1)+b.shiftKey;
a=l.wheelActions[c];if(!N(a)){var d=E.widgetCoordinates(A.canvas,b),e=Na(d.x,d.y),f=Oa(d.x,d.y),j=Ma(d,h());if(!(!e&&f===-1&&!j)){var m=E.normalizeWheel(b);if(j&&c===0&&Ga()){c=W();j=-m.spinY;if(da(c)){a=kb(c);a=Hb(a,Pa(c));a=Ib(a,B());a=(a[0]+a[1])/2;E.cancelEvent(b);b=Math.pow(1.2,j);ka(ea(c),w([1,0,0,b,0,a-b*a],ea(c)));Z();return}}if((a===4||a===5||a===6)&&l.pan){c=i()[4];j=[];for(d=0;d<M();++d)j.push(g(d)[5]);if(a===6)aa({x:-m.pixelX,y:-m.pixelY},0,f,e);else if(a===5)aa({x:0,y:-m.pixelX-m.pixelY},
0,f,e);else a===4&&aa({x:-m.pixelX-m.pixelY,y:0},0,f,e);c!==i()[4]&&E.cancelEvent(b);for(d=0;d<M();++d)j[d]!==g(d)[5]&&E.cancelEvent(b)}else if(l.zoom){E.cancelEvent(b);j=-m.spinY;if(j===0)j=-m.spinX;if(a===1)La(d,0,j,f,e);else if(a===0)La(d,j,0,f,e);else if(a===2)La(d,j,j,f,e);else if(a===3)m.pixelX!==0?La(d,j,0,f,e):La(d,0,j,f,e)}}}};var Lb=function(){lb()&&wa.emit(A.widget,"seriesSelected",D.x,D.y)};ba.start=function(a,b,c){ja=y(b.touches)===1;ra=y(b.touches)===2;if(ja){Ba=false;var d=E.widgetCoordinates(A.canvas,
b.touches[0]);a=Oa(d.x,d.y);var e=Ma(d,h()),f=Na(d.x,d.y);if(a===-1&&!f&&!e)return;Da=a===-1&&!f&&xa()&&Ab(C,[d.x,d.y],30)?1:0;oa=Date.now();D=d;t=a;G=f;if(Da!==1){if(!c&&e)ca=window.setTimeout(Lb,200);ga("contextmenu",ta.contextmenuListener)}E.capture(null);E.capture(vb())}else if(ra&&(l.zoom||Ga())){if(ca){window.clearTimeout(ca);ca=null}Ba=false;r=[E.widgetCoordinates(A.canvas,b.touches[0]),E.widgetCoordinates(A.canvas,b.touches[1])].map(function(j){return[j.x,j.y]});f=false;a=-1;if(!r.every(function(j){return Ma(j,
h())})){(f=Na(r[0][v],r[0][u])&&Na(r[1][v],r[1][u]))||(a=Oa(r[0][v],r[0][u]));if(!f&&(a===-1||Oa(r[1][v],r[1][u])!==a)){ra=null;return}G=f;t=a}E.capture(null);E.capture(vb());U=Math.atan2(r[1][1]-r[0][1],r[1][0]-r[0][0]);hb=[(r[0][0]+r[1][0])/2,(r[0][1]+r[1][1])/2];c=Math.abs(Math.sin(U));d=Math.abs(Math.cos(U));U=c<Math.sin(0.125*Math.PI)?0:d<Math.cos(0.375*Math.PI)?Math.PI/2:Math.tan(U)>0?Math.PI/4:-Math.PI/4;ib=Jb(U,hb);G=f;t=a}else return;ya(b)};ba.end=function(a,b){if(ca){window.clearTimeout(ca);
ca=null}window.setTimeout(function(){X("contextmenu",ta.contextmenuListener)},0);var c=Array.prototype.slice.call(b.touches),d=y(c)===0;d||function(){var e;for(e=0;e<y(b.changedTouches);++e)(function(){for(var f=b.changedTouches[e].identifier,j=0;j<y(c);++j)if(c[j].identifier===f){c.splice(j,1);return}})()}();d=y(c)===0;ja=y(c)===1;ra=y(c)===2;if(d){$a=null;if(Da===0&&(isFinite(k.x)||isFinite(k.y))&&l.rubberBand){oa=Date.now();Ba=true;Xa(eb)}else{Da===1&&ia.mouseUp(null,null);c=[];oa=ib=hb=U=null}Da=
null}else if(ja||ra)ba.start(a,b,true)};var $a=null,va=null,jb=null;ba.moved=function(a,b){if(ja||ra)if(!(ja&&D==null)){ya(b);va=E.widgetCoordinates(A.canvas,b.touches[0]);if(y(b.touches)>1)jb=E.widgetCoordinates(A.canvas,b.touches[1]);if(!G&&t===-1&&ja&&ca&&!Ab([va.x,va.y],[D.x,D.y],3)){window.clearTimeout(ca);ca=null}$a||($a=setTimeout(function(){if(!G&&t===-1&&ja&&Ga()&&da(W())){var c=W();if(da(c)){var d=va,e;e=B()?(d.x-D.x)/g(P(W()))[3]:(d.y-D.y)/g(P(W()))[3];ea(c)[5]+=e;D=d;Z()}}else if(ja){d=
va;e=Date.now();var f={x:d.x-D.x,y:d.y-D.y};c=e-oa;oa=e;if(Da===1){C[v]+=f.x;C[u]+=f.y;xa()&&na&&Xa(db)}else if(l.pan){k.x=f.x/c;k.y=f.y/c;aa(f,l.rubberBand?zb:0,t,G)}D=d}else if(!G&&t===-1&&ra&&Ga()&&da(W())){f=B()?v:u;e=[va,jb].map(function(S){return B()?[S.x,sa]:[Ea,S.y]});c=Math.abs(r[1][f]-r[0][f]);var j=Math.abs(e[1][f]-e[0][f]),m=c>0?j/c:1;if(j===c)m=1;c=W();if(da(c)){var sa=w(Ia(la(P(c))),[0,(r[0][f]+r[1][f])/2])[1],Fa=w(Ia(la(P(c))),[0,(e[0][f]+e[1][f])/2])[1];ka(ea(c),w([1,0,0,m,0,-m*sa+
Fa],ea(c)));D=d;Z();r=e}}else if(ra&&l.zoom){d=ma(C,Q());var Ea=(r[0][0]+r[1][0])/2;sa=(r[0][1]+r[1][1])/2;e=[va,jb].map(function(S){return U===0?[S.x,sa]:U===Math.PI/2?[Ea,S.y]:w(ib,[S.x,S.y])});f=Math.abs(r[1][0]-r[0][0]);c=Math.abs(e[1][0]-e[0][0]);var O=f>0?c/f:1;if(c===f||U===Math.PI/2)O=1;var ab=(e[0][0]+e[1][0])/2;c=Math.abs(r[1][1]-r[0][1]);j=Math.abs(e[1][1]-e[0][1]);m=c>0?j/c:1;if(j===c||U===0)m=1;Fa=(e[0][1]+e[1][1])/2;B()&&function(){var S=O;O=m;m=S;S=ab;ab=Fa;Fa=S;S=Ea;Ea=sa;sa=S}();
if(i()[0]*O>fa())O=fa()/i()[0];if(i()[0]*O<Qa())O=Qa()/i()[0];f=[];for(c=0;c<M();++c)f.push(m);for(c=0;c<M();++c){if(g(c)[3]*f[c]>T(c))f[c]=T(c)/g(c)[3];if(g(c)[3]*f[c]<pb(c))f[c]=pb(c)/g(c)[3]}if(G){if(O!==1&&(O<1||i()[0]!==fa()))qa(i(),w([O,0,0,1,-O*Ea+ab,0],i()))}else if(t===-1){if(O!==1&&(O<1||i()[0]!==fa()))qa(i(),w([O,0,0,1,-O*Ea+ab,0],i()));for(c=0;c<M();++c)if(f[c]!==1&&(f[c]<1||g(c)[3]!==T(c)))qa(g(c),w([1,0,0,f[c],0,-f[c]*sa+Fa],g(c)))}else if(f[t]!==1&&(f[t]<1||g(t)[3]!==T(t)))qa(g(t),
w([1,0,0,f[t],0,-f[t]*sa+Fa],g(t)));ha();d=Ua(d,Q());C[v]=d[v];C[u]=d[u];r=e;Ya();Z();Ja()}$a=null},1))}};this.setXRange=function(a,b,c,d){b=o(0)[0]+o(0)[2]*b;c=o(0)[0]+o(0)[2]*c;if(q(o(0))>s(o(0))){if(b>q(o(0)))b=q(o(0));if(c<s(o(0)))c=s(o(0))}else{if(b<q(o(0)))b=q(o(0));if(c>s(o(0)))c=s(o(0))}var e=Pa(a);e=Kb(e,P(a),b,c,B(),h(),o(P(a)),l.minZoom,l.maxZoom);b=e.xZoom;c=e.yZoom;e=e.panPoint;var f=ma(C,Q());i()[0]=b;if(c&&d)g(P(a))[3]=c;i()[4]=-e[v]*b;if(c&&d)g(P(a))[5]=-e[u]*c;Ha();a=Ua(f,Q());C[v]=
a[v];C[u]=a[u];ha();Ya();Z();Ja()};this.getSeries=function(a){return Pa(a)};this.rangeChangedCallbacks=[];this.updateConfig=function(a){for(var b in a)if(a.hasOwnProperty(b))l[b]=a[b];Fb();Ya();Z();Ja()};this.updateConfig({});if(window.TouchEvent&&!window.MSPointerEvent&&!window.PointerEvent){ia.touchStart=ba.start;ia.touchEnd=ba.end;ia.touchMoved=ba.moved}else{H=function(){};ia.touchStart=H;ia.touchEnd=H;ia.touchMoved=H}});
