WT_DECLARE_WT_MEMBER(1,JavaScriptConstructor,"WSpinBox",function(C,c,u,j,i,f,h,n,r,s){function o(){return c.readOnly}function t(){var a=c.wtLObj,b="";if(a!==undefined){b=a.getValue();if(b==="")b=j+"0"+i}else b=c.value;if(b.substr(0,j.length)==j){b=b.substr(j.length);if(b.length>i.length&&b.substr(b.length-i.length,i.length)==i){b=b.substr(0,b.length-i.length);if(s)b=b.split(s).join("");b=b.replace(r,".");return Number(b)}}return null}function v(a){var b=c.wtLObj;if(a>h)if(w){range=h-f;a=f+(a-f)%(range+
1)}else a=h;else if(a<f)if(w){range=h-f;a=h-(Math.abs(a-f)-1)%(range+1)}else a=f;var e=a.toFixed(u);e=e.replace(".",r);var l=e.indexOf(r),k="";if(l!==-1){for(var m=0;m<l;m++){k+=e.charAt(m);if(m<l-1&&(l-m-1)%3===0)k+=s}k+=e.substr(l)}else k=e;e=c.value;if(b!==undefined)b.setValue(j+k+i);else c.value=j+k+i;p=true;D.jsValueChanged(e,a)}function x(){var a=t();if(a!==null){a+=n;v(a)}}function y(){var a=t();if(a!==null){a-=n;v(a)}}c.wtObj=this;var D=this,d=C.WT,g=$(c),q=null,A,p=false,B=null,z=false,w=
false;this.setIsDoubleSpinBox=function(a){z=a;this.configure(u,j,i,f,h,n)};this.setWrapAroundEnabled=function(a){w=a};this.configure=function(a,b,e,l,k,m){u=a;j=b;i=e;f=l;h=k;n=m;B=z||typeof d.WIntValidator==="undefined"?new d.WDoubleValidator(true,false,f,h,".","","Must be a number","Must be a number","The number must be at least "+f,"The number may be at most "+h):new d.WIntValidator(true,f,h,"","Must be a number","Must be a number","The number must be at least "+f,"The number may be at most "+
h)};this.mouseOut=function(){g.removeClass("dn").removeClass("up")};this.mouseMove=function(a,b){if(!o())if(q){a=d.pageCoordinates(b).y-q.y;b=A;if(b!==null){b-=a*n;v(b)}}else{a=d.widgetCoordinates(c,b);if(g.hasClass("dn")||g.hasClass("up"))g.removeClass("dn").removeClass("up");b=-1;if(typeof d.theme==="object"&&d.theme.type==="bootstrap")b=d.theme.version;if(b>=4&&a.x>c.offsetWidth-30&&a.x<c.offsetWidth-10){b=c.offsetHeight/2;if(a.y>=b-3&&a.y<=b+3)c.style.cursor="crosshair";else{c.style.cursor="default";
a.y<b-1?g.addClass("up"):g.addClass("dn")}}else if(b<4&&a.x>c.offsetWidth-22){b=c.offsetHeight/2;if(a.y>=b-3&&a.y<=b+3)c.style.cursor="crosshair";else{c.style.cursor="default";a.y<b-1?g.addClass("up"):g.addClass("dn")}}else if(c.style.cursor!="")c.style.cursor=""}};this.mouseDown=function(a,b){d.capture(null);if(!o())if(c.style.cursor=="crosshair"){d.capture(null);d.capture(c);g.addClass("unselectable");q=d.pageCoordinates(b);A=t()}else{a=d.widgetCoordinates(c,b);var e=-1;if(typeof d.theme==="object"&&
d.theme.type==="bootstrap")e=d.theme.version;if(e>=5&&a.x>c.offsetWidth-30&&a.x<c.offsetWidth-10){d.cancelEvent(b);d.capture(c);g.addClass("unselectable");b=c.offsetHeight/2;a.y<b?d.eventRepeat(function(){x()}):d.eventRepeat(function(){y()})}else if(e<4&&a.x>c.offsetWidth-22){d.cancelEvent(b);d.capture(c);g.addClass("unselectable");b=c.offsetHeight/2;a.y<b?d.eventRepeat(function(){x()}):d.eventRepeat(function(){y()})}}};this.mouseUp=function(a){g.removeClass("unselectable");if(!o()){if(p||q!=null){q=
null;p=false;a.onchange()}d.stopRepeat()}};this.keyDown=function(a,b){if(!o())if(b.keyCode==40)d.eventRepeat(function(){y()});else b.keyCode==38&&d.eventRepeat(function(){x()})};this.keyUp=function(a){if(!o()){if(p){p=false;a.onchange()}d.stopRepeat()}};this.setLocale=function(a,b){r=a;s=b};this.validate=function(){var a=t();if(a===null)a="a";return B.validate(a)};this.jsValueChanged=function(){};this.setIsDoubleSpinBox(z)});
