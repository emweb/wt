WT_DECLARE_WT_MEMBER(1,JavaScriptConstructor,"StdLayout2",function(G,A,K,N,O,t,H,D,B,v,z){function u(a,b){var c=s[b],g=b?a.scrollHeight:a.scrollWidth,h=b?a.clientHeight:a.clientWidth;b=b?a.offsetHeight:a.offsetWidth;if(h>=1E6){h-=1E6;if(g>=1E6)g-=1E6}if(g===0)g=e.pxself(a,c.size);if(e.isIE&&(e.hasTag(a,"BUTTON")||e.hasTag(a,"TEXTAREA")||e.hasTag(a,"INPUT")||e.hasTag(a,"SELECT")))g=h;if(!e.isOpera&&!e.isGecko)g+=e.px(a,"border"+c.Left+"Width")+e.px(a,"border"+c.Right+"Width");g+=e.px(a,"margin"+c.Left)+
e.px(a,"margin"+c.Right);if(!e.boxSizing(a)&&!e.isIE)g+=e.px(a,"padding"+c.Left)+e.px(a,"padding"+c.Right);if(g<b)g=b;return g}function I(a,b){b=s[b];if(a.style.display=="none")return 0;else if(a["layoutMin"+b.Size])return a["layoutMin"+b.Size];else{var c=e.px(a,"min"+b.Size);e.boxSizing(a)||(c+=e.px(a,"padding"+b.Left)+e.px(a,"padding"+b.Right));return c}}function E(a,b){b=s[b];var c=e.px(a,"margin"+b.Left)+e.px(a,"margin"+b.Right);if(!e.boxSizing(a)&&!(e.isIE&&!e.isIElt9&&e.hasTag(a,"BUTTON")))c+=
e.px(a,"border"+b.Left+"Width")+e.px(a,"border"+b.Right+"Width")+e.px(a,"padding"+b.Left)+e.px(a,"padding"+b.Right);return c}function Y(a,b){b=s[b];return e.px(a,"padding"+b.Left)+e.px(a,"padding"+b.Right)}function S(a,b){if(e.boxSizing(a)){b=s[b];return e.px(a,"border"+b.Left+"Width")+e.px(a,"border"+b.Right+"Width")+e.px(a,"padding"+b.Left)+e.px(a,"padding"+b.Right)}else return 0}function T(a,b){b=s[b];return e.px(a,"border"+b.Left+"Width")+e.px(a,"border"+b.Right+"Width")+e.px(a,"margin"+b.Left)+
e.px(a,"margin"+b.Right)+e.px(a,"padding"+b.Left)+e.px(a,"padding"+b.Right)}function P(a,b){L=a.dirty=true;b&&G.layouts2.scheduleAdjust()}function y(a,b,c){if(a.style[b]!==c){a.style[b]=c;return true}else return false}function aa(a,b,c){b=s[a];var g=s[a^1],h=b.measures,j=b.config.length,o=g.config.length;if(L||M){if(c&&typeof b.minSize=="undefined"){b.minSize=e.px(c,"min"+b.Size);if(b.minSize>0)b.minSize-=S(c,a)}h=h.slice();if(h.length==5){h[0]=h[0].slice();h[1]=h[1].slice()}var w=[],i=[],m=0,k=0,
d,p;for(d=0;d<j;++d){var l=0,q=b.config[d][2],n=true;for(p=0;p<o;++p){var f=b.getItem(d,p);if(f){if(a==0&&f.dirty)f.w=null;if(!f.w){var x=$("#"+f.id);f.w=x.get(0);(function(){x.find("img").load(function(){P(f)})})();f.w.style[b.left]=f.w.style[g.left]="-1000000px"}if(!t&&f.w.style.position!="absolute"){f.w.style.position="absolute";f.w.style.visibility="hidden";if(!f.w.wtResize){f.w.style.boxSizing="border-box";var r=e.cssPrefix("BoxSizing");if(r)f.w.style[r+"BoxSizing"]="border-box"}}if(!f.ps)f.ps=
[];if(!f.ms)f.ms=[];if(!f.size)f.size=[];if(!f.psize)f.psize=[];if(!f.fs)f.fs=[];if(!f.set)f.set=[false,false];if(f.w){if(e.isIE)f.w.style.visibility="";if(f.dirty||M){r=I(f.w,a);if(r>q)q=r;f.ms[a]=r;if(!f.set[a])if(a==0){var F=e.pxself(f.w,b.size);f.fs[a]=F?F+E(f.w,a):0}else{F=e.px(f.w,b.size);f.fs[a]=F>Math.max(S(f.w,a),r)?F+E(f.w,a):0}r=f.fs[a];if(f.layout)r=Math.max(r,f.ps[a]);else{F=u(f.w,a);r=(typeof f.ps[a]==="undefined"||b.config[d][0]<=0)&&(!f.set[a]||F!=f.psize[a])?Math.max(r,F):Math.max(r,
f.ps[a])}f.ps[a]=r;if(!f.span||f.span[a]==1)if(r>l)l=r}else if(!f.span||f.span[a]==1){if(f.ps[a]>l)l=f.ps[a];if(f.ms[a]>q)q=f.ms[a]}if(f.w.style.display!=="none"||e.hasTag(f.w,"TEXTAREA")&&f.w.wtResize)n=false}}}if(n)q=l=-1;else if(q>l)l=q;w[d]=l;i[d]=q;if(q>-1){m+=l;k+=q}}g=0;o=true;p=false;for(d=0;d<j;++d)if(i[d]>-1){if(o){g+=b.margins[1];o=false}else{g+=b.margins[0];if(p)g+=4}p=b.config[d][1]!==0}o||(g+=b.margins[2]);m+=g;k+=g;b.measures=[w,i,m,k,g];if(U)if(h[2]!=b.measures[2]){j=b.measures[2];
if(a==0)j=Math.max(j,W);j+=J[a];U.setChildSize(Q,a,j)}c&&b.minSize==0&&h[3]!=b.measures[3]&&c.parentNode.className!="Wt-domRoot"&&y(c,"min"+b.Size,b.measures[3]+"px")&&V.ancestor&&V.ancestor.setContentsDirty(c);c&&a==0&&c&&e.hasTag(c,"TD")&&y(c,b.size,b.measures[2]+"px")}}function ba(a,b,c){a=s[a];if(R)c=-c;a.fixedSize[b]=a.sizes[b]+c;G.layouts2.scheduleAdjust()}function ca(a,b,c){var g=b.di,h=s[a],j=s[a^1],o,w=e.getElement(A),i;for(i=g-1;i>=0;--i)if(h.sizes[i]>=0){o=-(h.sizes[i]-h.measures[1][i]);
break}g=h.sizes[g]-h.measures[1][g];if(R){var m=o;o=-g;g=-m}new e.SizeHandle(e,h.resizeDir,e.pxself(b,h.size),e.pxself(b,j.size),o,g,h.resizerClass,function(k){ba(a,i,k)},b,w,c,0,0)}function da(a,b){var c=s[a],g=s[a^1],h=c.measures,j=0,o=false,w=false,i=false,m=X?b.parentNode:null;if(c.maxSize===0)if(m){var k=e.css(m,"position");if(k==="absolute")j=e.pxself(m,c.size);if(j===0){if(!c.initialized)if(k!=="absolute"){j=a?m.clientHeight:m.clientWidth;o=true;if(a==0&&j==0&&e.isIElt9){j=m.offsetWidth;o=
false}var d;if((e.hasTag(m,"TD")||e.hasTag(m,"TH"))&&!(e.isIE&&!e.isIElt9)){d=0;i=1}else{d=c.minSize?c.minSize:h[3];i=0}if(e.isIElt9&&j==i||j==d+Y(m,a))c.maxSize=999999}if(j===0&&c.maxSize===0){j=a?m.clientHeight:m.clientWidth;o=true}}}else{j=e.pxself(b,c.size);w=true}d=0;if(m&&a==1&&e.hasTag(m,"FIELDSET")&&m.children.length==2)d=m.firstChild.offsetHeight;i=h[2];if(i<c.minSize)i=c.minSize;if(c.maxSize)if(i+d<c.maxSize){y(m,c.size,i+d+S(m,a)+"px");j=i+d;i=w=true}else{j=c.maxSize;o=false}c.cSize=j;
if(a==1&&m&&m.wtResize){i=g.cSize;var p=c.cSize;m.wtResize(m,Math.round(i),Math.round(p))}j-=d;if(!w){w=0;if(c.initialized)w=c.cPadding;else{w=o?Y(m,a):S(m,a);c.cPadding=w}j-=w}c.initialized=true;if(!(m&&j<=0)){if(j<h[3]-d)j=h[3]-d;$(b).children("."+g.handleClass).css(c.size,j-c.margins[2]-c.margins[1]+"px");o=[];m=c.config.length;w=g.config.length;if(j>=h[3]-d){p=j-h[4];i=[];var l=[0,0],q=[0,0],n=0;for(d=0;d<m;++d)if(h[1][d]>-1){k=-1;if(typeof c.fixedSize[d]!=="undefined")k=c.fixedSize[d];else if(c.config[d][1]!==
0&&c.config[d][1][0]>=0){k=c.config[d][1][0];if(c.config[d][1][1])k=(j-h[4])*k/100}if(k>=0){i[d]=-1;o[d]=k;p-=o[d]}else{if(c.config[d][0]>0){k=1;i[d]=c.config[d][0];n+=i[d]}else{k=0;i[d]=0}l[k]+=h[1][d];q[k]+=h[0][d];o[d]=h[0][d]}}else i[d]=-2;if(n==0){for(d=0;d<m;++d)if(i[d]==0){i[d]=1;++n}q[1]=q[0];l[1]=l[0];q[0]=0;l[0]=0}if(p>q[0]+l[1]){p-=q[0];if(p>q[1]){if(c.fitSize){p-=q[1];j=p/n;for(d=0;d<m;++d)if(i[d]>0)o[d]+=Math.round(i[d]*j)}}else{k=1;if(p<l[k])p=l[k];j=q[k]-l[k]>0?(p-l[k])/(q[k]-l[k]):
0;for(d=0;d<m;++d)if(i[d]>0){p=h[0][d]-h[1][d];o[d]=h[1][d]+Math.round(p*j)}}}else{for(d=0;d<m;++d)if(i[d]>0)o[d]=h[1][d];p-=l[1];k=0;if(p<l[k])p=l[k];j=q[k]-l[k]>0?(p-l[k])/(q[k]-l[k]):0;for(d=0;d<m;++d)if(i[d]==0){p=h[0][d]-h[1][d];o[d]=h[1][d]+Math.round(p*j)}}}else o=h[1];c.sizes=o;h=0;j=true;l=false;for(d=0;d<m;++d)if(o[d]>-1){if(p=l){i=A+"-rs"+a+"-"+d;l=e.getElement(i);if(!l){l=document.createElement("div");l.setAttribute("id",i);l.di=d;l.style.position="absolute";l.style[g.left]=g.margins[1]+
"px";l.style[c.size]=c.margins[0]+"px";l.className=c.handleClass;b.insertBefore(l,b.firstChild);l.onmousedown=l.ontouchstart=function(F){ca(a,this,F||window.event)}}h+=2;y(l,c.left,h+"px");h+=2}l=c.config[d][1]!==0;if(j){h+=c.margins[1];j=false}else h+=c.margins[0];for(q=0;q<w;++q)if((n=c.getItem(d,q))&&n.w){i=n.w;k=o[d];if(n.span){var f,x=l;for(f=1;f<n.span[a];++f){if(x)k+=4;x=c.config[d+x][1]!==0;k+=c.margins[0];k+=o[d+f]}}var r;i.style.visibility="";x=n.align>>c.alignBits&15;f=n.ps[a];if(k<f)x=
0;if(x){switch(x){case 1:r=h;break;case 4:r=h+(k-f)/2;break;case 2:r=h+(k-f);break}if(n.layout){y(i,c.size,f+"px")&&P(n);n.set[a]=true}else if(k>=f&&n.set[a]){y(i,c.size,f+"px")&&P(n);n.set[a]=false}n.size[a]=f;n.psize[a]=f}else{r=E(n.w,a);x=k;if(e.isIElt9||!e.hasTag(i,"BUTTON")&&!e.hasTag(i,"INPUT")&&!e.hasTag(i,"SELECT")&&!e.hasTag(i,"TEXTAREA"))x=Math.max(0,x-r);r=false;if(e.isIE&&e.hasTag(i,"BUTTON"))r=true;if(r||k!=f||n.layout){y(i,c.size,x+"px")&&P(n);n.set[a]=true}else if(n.fs[a])a==0&&y(i,
c.size,n.fs[a]+"px");else{y(i,c.size,"")&&P(n);n.set[a]=false}r=h;n.size[a]=x;n.psize[a]=k}if(t)if(p){y(i,c.left,"4px");k=e.css(i,"position");if(k!=="absolute")i.style.position="relative"}else y(i,c.left,"0px");else y(i,c.left,r+"px");if(a==1){i.wtResize&&i.wtResize(i,Math.round(n.size[0]),Math.round(n.size[1]));n.dirty=false}}h+=o[d]}}}var e=G.WT;this.ancestor=null;this.descendants=[];var V=this,C=z,L=false,M=true,X=false,U=null,Q=null,Z=false,J=[],W=0,R=$(document.body).hasClass("Wt-rtl"),s=[{initialized:false,
config:C.cols,margins:B,maxSize:H,measures:[],sizes:[],fixedSize:[],Left:R?"Right":"Left",left:R?"right":"left",Right:R?"Left":"Right",Size:"Width",size:"width",alignBits:0,getItem:function(a,b){return C.items[b*s[0].config.length+a]},handleClass:"Wt-vrh2",resizeDir:"h",resizerClass:"Wt-hsh2",fitSize:N},{initialized:false,config:C.rows,margins:v,maxSize:D,measures:[],sizes:[],fixedSize:[],Left:"Top",left:"top",Right:"Bottom",Size:"Height",size:"height",alignBits:4,getItem:function(a,b){return C.items[a*
s[0].config.length+b]},handleClass:"Wt-hrh2",resizeDir:"v",resizerClass:"Wt-vsh2",fitSize:O}];jQuery.data(document.getElementById(A),"layout",this);this.setConfig=function(a){var b=C;C=a;s[0].config=C.cols;s[1].config=C.rows;var c;a=0;for(c=b.items.length;a<c;++a){var g=b.items[a];if(g){g.set[0]&&y(g.w,s[0].size,"");g.set[1]&&y(g.w,s[1].size,"");if(g.layout){V.setChildSize(g.w,0,g.ps[0]);V.setChildSize(g.w,1,g.ps[1])}}}M=true};this.getId=function(){return A};this.setItemsDirty=function(a){var b,c,
g=s[0].config.length;b=0;for(c=a.length;b<c;++b)C.items[a[b][0]*g+a[b][1]].dirty=true;L=true};this.setDirty=function(){M=true};this.setChildSize=function(a,b,c){var g,h;g=0;for(h=C.items.length;g<h;++g){var j=C.items[g];if(j&&j.id==a.id){if(!j.ps)j.ps=[];j.ps[b]=c;j.layout=true;break}}L=true};this.measure=function(a){var b=e.getElement(A);if(b)if(!e.isHidden(b)){if(!Z){Z=true;if(X=K==null){var c=b,g=c.parentNode;for(J=[0,0];;){J[0]+=T(g,0);J[1]+=T(g,1);if(g.childNodes.length>1){var h,j;h=0;for(j=
g.childNodes.length;h<j;++h)if(g.childNodes[h]!=c){J[1]+=g.childNodes[h].offsetHeight;W=Math.max(g.childNodes[h].offsetWidth,W)}}if(c=jQuery.data(g.parentNode,"layout")){U=c;Q=g;break}c=g;g=c.parentNode;if(g.childNodes.length!=1)break}}else{U=jQuery.data(document.getElementById(K),"layout");Q=b;J[0]=T(Q,0);J[1]=T(Q,1)}}if(L||M)aa(a,b,X?b.parentNode:null);if(a==1)L=M=false}};this.apply=function(a){var b=e.getElement(A);if(!b)return false;if(e.isHidden(b))return true;da(a,b);return true};this.contains=
function(a){var b=e.getElement(A);a=e.getElement(a.getId());return b&&a?e.contains(b,a):false}});WT_DECLARE_WT_MEMBER(2,JavaScriptPrototype,"StdLayout2.prototype.initResize",function(){this.resizeInitialized=true});
WT_DECLARE_APP_MEMBER(1,JavaScriptObject,"layouts2",new (function(){var G=[],A=false,K=this,N=false;this.find=function(t){return jQuery.data(document.getElementById(t),"layout")};this.setDirty=function(t){(t=jQuery.data(t,"layout"))&&t.setDirty()};this.add=function(t){function H(D,B){var v,z;v=0;for(z=D.length;v<z;++v){var u=D[v];if(u.contains(B)){H(u.descendants,B);return}else if(B.contains(u)){B.descendants.push(u);D.splice(v,1);--v;--z}}D.push(B)}H(G,t)};var O=false;this.scheduleAdjust=function(){if(!O){O=
true;setTimeout(function(){K.adjust()},0)}};this.adjust=function(t,H){function D(v,z){var u,I;u=0;for(I=v.length;u<I;++u){var E=v[u];D(E.descendants,z);z==1&&N&&E.setDirty();E.measure(z)}}function B(v,z){var u,I;u=0;for(I=v.length;u<I;++u){var E=v[u];if(E.apply(z))B(E.descendants,z);else{v.splice(u,1);--u;--I}}}if(t){(t=this.find(t))&&t.setItemsDirty(H);K.scheduleAdjust()}else{O=false;if(!A){A=true;D(G,0);B(G,0);D(G,1);B(G,1);N=A=false}}};this.updateConfig=function(t,H){(t=this.find(t))&&t.setConfig(H)};
window.onresize=function(){N=true;K.scheduleAdjust()}}));
