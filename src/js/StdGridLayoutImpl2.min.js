WT_DECLARE_WT_MEMBER(1,JavaScriptConstructor,"StdLayout2",function(G,A,M,N,O,t,H,D,B,v,z){function u(a,b){var c=s[b],h=b?a.scrollHeight:a.scrollWidth,i=b?a.clientHeight:a.clientWidth;b=b?a.offsetHeight:a.offsetWidth;if(i>=1E6){i-=1E6;if(h>=1E6)h-=1E6}if(h===0)h=e.pxself(a,c.size);if(e.isIE&&(e.hasTag(a,"BUTTON")||e.hasTag(a,"TEXTAREA")||e.hasTag(a,"INPUT")||e.hasTag(a,"SELECT")))h=i;if(!e.isOpera&&!e.isGecko)h+=e.px(a,"border"+c.Left+"Width")+e.px(a,"border"+c.Right+"Width");h+=e.px(a,"margin"+c.Left)+
e.px(a,"margin"+c.Right);if(!e.boxSizing(a)&&!e.isIE)h+=e.px(a,"padding"+c.Left)+e.px(a,"padding"+c.Right);if(h<b)h=b;return h}function I(a,b){b=s[b];if(a.style.display=="none")return 0;else if(a["layoutMin"+b.Size])return a["layoutMin"+b.Size];else{var c=e.px(a,"min"+b.Size);e.boxSizing(a)||(c+=e.px(a,"padding"+b.Left)+e.px(a,"padding"+b.Right));return c}}function E(a,b){b=s[b];var c=e.px(a,"margin"+b.Left)+e.px(a,"margin"+b.Right);if(!e.boxSizing(a)&&!(e.isIE&&!e.isIElt9&&e.hasTag(a,"BUTTON")))c+=
e.px(a,"border"+b.Left+"Width")+e.px(a,"border"+b.Right+"Width")+e.px(a,"padding"+b.Left)+e.px(a,"padding"+b.Right);return c}function X(a,b){b=s[b];return e.px(a,"padding"+b.Left)+e.px(a,"padding"+b.Right)}function S(a,b){if(e.boxSizing(a)){b=s[b];return e.px(a,"border"+b.Left+"Width")+e.px(a,"border"+b.Right+"Width")+e.px(a,"padding"+b.Left)+e.px(a,"padding"+b.Right)}else return 0}function T(a,b){b=s[b];return e.px(a,"border"+b.Left+"Width")+e.px(a,"border"+b.Right+"Width")+e.px(a,"margin"+b.Left)+
e.px(a,"margin"+b.Right)+e.px(a,"padding"+b.Left)+e.px(a,"padding"+b.Right)}function P(a,b){J=a.dirty=true;b&&G.layouts2.scheduleAdjust()}function y(a,b,c){if(a.style[b]!==c){a.style[b]=c;return true}else return false}function Z(a,b,c){b=s[a];var h=s[a^1],i=b.measures,k=b.config.length,o=h.config.length;if(J||K){if(c&&typeof b.minSize=="undefined"){b.minSize=e.px(c,"min"+b.Size);if(b.minSize>0)b.minSize-=S(c,a)}i=i.slice();if(i.length==5){i[0]=i[0].slice();i[1]=i[1].slice()}var w=[],g=[],m=0,j=0,
d,p;for(d=0;d<k;++d){var l=0,q=b.config[d][2],n=true;for(p=0;p<o;++p){var f=b.getItem(d,p);if(f){if(!f.w){var x=$("#"+f.id);f.w=x.get(0);(function(){x.find("img").load(function(){P(f)})})();f.w.style[b.left]=f.w.style[h.left]="-1000000px"}if(!t&&f.w.style.position!="absolute"){f.w.style.position="absolute";f.w.style.visibility="hidden";if(!f.w.wtResize){f.w.style.boxSizing="border-box";var r=e.cssPrefix("BoxSizing");if(r)f.w.style[r+"BoxSizing"]="border-box"}}if(!f.ps)f.ps=[];if(!f.ms)f.ms=[];if(!f.size)f.size=
[];if(!f.psize)f.psize=[];if(!f.fs)f.fs=[];if(!f.set)f.set=[false,false];if(f.w){if(e.isIE)f.w.style.visibility="";if(f.dirty||K){r=I(f.w,a);if(r>q)q=r;f.ms[a]=r;if(!f.set[a])if(a==0){var F=e.pxself(f.w,b.size);f.fs[a]=F?F+E(f.w,a):0}else{F=e.px(f.w,b.size);f.fs[a]=F>Math.max(S(f.w,a),r)?F+E(f.w,a):0}r=f.fs[a];if(f.layout)r=Math.max(r,f.ps[a]);else{F=u(f.w,a);r=(typeof f.ps[a]==="undefined"||b.config[d][0]<=0)&&(!f.set[a]||F!=f.psize[a])?Math.max(r,F):Math.max(r,f.ps[a])}f.ps[a]=r;if(!f.span||f.span[a]==
1)if(r>l)l=r}else if(!f.span||f.span[a]==1){if(f.ps[a]>l)l=f.ps[a];if(f.ms[a]>q)q=f.ms[a]}if(f.w.style.display!=="none"||e.hasTag(f.w,"TEXTAREA")&&f.w.wtResize)n=false}}}if(n)q=l=-1;else if(q>l)l=q;w[d]=l;g[d]=q;if(q>-1){m+=l;j+=q}}h=0;o=true;p=false;for(d=0;d<k;++d)if(g[d]>-1){if(o){h+=b.margins[1];o=false}else{h+=b.margins[0];if(p)h+=4}p=b.config[d][1]!==0}o||(h+=b.margins[2]);m+=h;j+=h;b.measures=[w,g,m,j,h];U&&i[2]!=b.measures[2]&&U.setChildSize(Q,a,b.measures[2]+L[a]);c&&b.minSize==0&&i[3]!=
b.measures[3]&&c.parentNode.className!="Wt-domRoot"&&y(c,"min"+b.Size,b.measures[3]+"px")&&V.ancestor&&V.ancestor.setContentsDirty(c);c&&a==0&&c&&e.hasTag(c,"TD")&&y(c,b.size,b.measures[2]+"px")}}function aa(a,b,c){a=s[a];if(R)c=-c;a.fixedSize[b]=a.sizes[b]+c;G.layouts2.scheduleAdjust()}function ba(a,b,c){var h=b.di,i=s[a],k=s[a^1],o,w=e.getElement(A),g;for(g=h-1;g>=0;--g)if(i.sizes[g]>=0){o=-(i.sizes[g]-i.measures[1][g]);break}h=i.sizes[h]-i.measures[1][h];if(R){var m=o;o=-h;h=-m}new e.SizeHandle(e,
i.resizeDir,e.pxself(b,i.size),e.pxself(b,k.size),o,h,i.resizerClass,function(j){aa(a,g,j)},b,w,c,0,0)}function ca(a,b){var c=s[a],h=s[a^1],i=c.measures,k=0,o=false,w=false,g=false,m=W?b.parentNode:null;if(c.maxSize===0)if(m){var j=e.css(m,"position");if(j==="absolute")k=e.pxself(m,c.size);if(k===0){if(!c.initialized)if(j!=="absolute"){k=a?m.clientHeight:m.clientWidth;o=true;if(a==0&&k==0&&e.isIElt9){k=m.offsetWidth;o=false}var d;if((e.hasTag(m,"TD")||e.hasTag(m,"TH"))&&!(e.isIE&&!e.isIElt9)){d=0;
g=1}else{d=c.minSize?c.minSize:i[3];g=0}if(e.isIElt9&&k==g||k==d+X(m,a))c.maxSize=999999}if(k===0&&c.maxSize===0){k=a?m.clientHeight:m.clientWidth;o=true}}}else{k=e.pxself(b,c.size);w=true}d=0;if(m&&a==1&&e.hasTag(m,"FIELDSET")&&m.children.length==2)d=m.firstChild.offsetHeight;g=i[2];if(g<c.minSize)g=c.minSize;if(c.maxSize)if(g<c.maxSize){y(m,c.size,g+S(m,a)+"px");k=g;g=w=true}else{k=c.maxSize;o=false}c.cSize=k;if(a==1&&m&&m.wtResize){g=h.cSize;m.wtResize(m,g,c.cSize)}k-=d;if(!w){w=0;if(c.initialized)w=
c.cPadding;else{w=o?X(m,a):S(m,a);c.cPadding=w}k-=w}c.initialized=true;if(!(m&&k<=0)){if(k<i[3]-d)k=i[3]-d;$(b).children("."+h.handleClass).css(c.size,k-c.margins[2]-c.margins[1]+"px");o=[];m=c.config.length;w=h.config.length;if(k>=i[3]-d){var p=k-i[4];g=[];var l=[0,0],q=[0,0],n=0;for(d=0;d<m;++d)if(i[1][d]>-1){j=-1;if(typeof c.fixedSize[d]!=="undefined")j=c.fixedSize[d];else if(c.config[d][1]!==0&&c.config[d][1][0]>=0){j=c.config[d][1][0];if(c.config[d][1][1])j=(k-i[4])*j/100}if(j>=0){g[d]=-1;o[d]=
j;p-=o[d]}else{if(c.config[d][0]>0){j=1;g[d]=c.config[d][0];n+=g[d]}else{j=0;g[d]=0}l[j]+=i[1][d];q[j]+=i[0][d];o[d]=i[0][d]}}else g[d]=-2;if(n==0){for(d=0;d<m;++d)if(g[d]==0){g[d]=1;++n}q[1]=q[0];l[1]=l[0];q[0]=0;l[0]=0}if(p>q[0]+l[1]){p-=q[0];if(p>q[1]){if(c.fitSize){p-=q[1];k=p/n;for(d=0;d<m;++d)if(g[d]>0)o[d]+=Math.round(g[d]*k)}}else{j=1;if(p<l[j])p=l[j];k=q[j]-l[j]>0?(p-l[j])/(q[j]-l[j]):0;for(d=0;d<m;++d)if(g[d]>0){p=i[0][d]-i[1][d];o[d]=i[1][d]+Math.round(p*k)}}}else{for(d=0;d<m;++d)if(g[d]>
0)o[d]=i[1][d];p-=l[1];j=0;if(p<l[j])p=l[j];k=q[j]-l[j]>0?(p-l[j])/(q[j]-l[j]):0;for(d=0;d<m;++d)if(g[d]==0){p=i[0][d]-i[1][d];o[d]=i[1][d]+Math.round(p*k)}}}else o=i[1];c.sizes=o;i=0;k=true;l=false;for(d=0;d<m;++d)if(o[d]>-1){if(p=l){g=A+"-rs"+a+"-"+d;l=e.getElement(g);if(!l){l=document.createElement("div");l.setAttribute("id",g);l.di=d;l.style.position="absolute";l.style[h.left]=h.margins[1]+"px";l.style[c.size]=c.margins[0]+"px";l.className=c.handleClass;b.insertBefore(l,b.firstChild);l.onmousedown=
l.ontouchstart=function(F){ba(a,this,F||window.event)}}i+=2;y(l,c.left,i+"px");i+=2}l=c.config[d][1]!==0;if(k){i+=c.margins[1];k=false}else i+=c.margins[0];for(q=0;q<w;++q)if((n=c.getItem(d,q))&&n.w){g=n.w;j=o[d];if(n.span){var f,x=l;for(f=1;f<n.span[a];++f){if(x)j+=4;x=c.config[d+x][1]!==0;j+=c.margins[0];j+=o[d+f]}}var r;g.style.visibility="";x=n.align>>c.alignBits&15;f=n.ps[a];if(j<f)x=0;if(x){switch(x){case 1:r=i;break;case 4:r=i+(j-f)/2;break;case 2:r=i+(j-f);break}if(n.layout){y(g,c.size,f+
"px")&&P(n);n.set[a]=true}else if(j>=f&&n.set[a]){y(g,c.size,f+"px")&&P(n);n.set[a]=false}n.size[a]=f;n.psize[a]=f}else{r=E(n.w,a);x=j;if(e.isIElt9||!e.hasTag(g,"BUTTON")&&!e.hasTag(g,"INPUT")&&!e.hasTag(g,"SELECT")&&!e.hasTag(g,"TEXTAREA"))x=Math.max(0,x-r);r=false;if(e.isIE&&e.hasTag(g,"BUTTON"))r=true;if(r||j!=f||n.layout){y(g,c.size,x+"px")&&P(n);n.set[a]=true}else if(n.fs[a])a==0&&y(g,c.size,n.fs[a]+"px");else{y(g,c.size,"")&&P(n);n.set[a]=false}r=i;n.size[a]=x;n.psize[a]=j}if(t)if(p){y(g,c.left,
"4px");j=e.css(g,"position");if(j!=="absolute")g.style.position="relative"}else y(g,c.left,"0px");else y(g,c.left,r+"px");if(a==1){g.wtResize&&g.wtResize(g,n.size[0],n.size[1]);n.dirty=false}}i+=o[d]}}}var e=G.WT;this.ancestor=null;this.descendants=[];var V=this,C=z,J=false,K=true,W=false,U=null,Q=null,Y=false,L=[],R=$(document.body).hasClass("Wt-rtl"),s=[{initialized:false,config:C.cols,margins:B,maxSize:H,measures:[],sizes:[],fixedSize:[],Left:R?"Right":"Left",left:R?"right":"left",Right:R?"Left":
"Right",Size:"Width",size:"width",alignBits:0,getItem:function(a,b){return C.items[b*s[0].config.length+a]},handleClass:"Wt-vrh2",resizeDir:"h",resizerClass:"Wt-hsh2",fitSize:N},{initialized:false,config:C.rows,margins:v,maxSize:D,measures:[],sizes:[],fixedSize:[],Left:"Top",left:"top",Right:"Bottom",Size:"Height",size:"height",alignBits:4,getItem:function(a,b){return C.items[a*s[0].config.length+b]},handleClass:"Wt-hrh2",resizeDir:"v",resizerClass:"Wt-vsh2",fitSize:O}];jQuery.data(document.getElementById(A),
"layout",this);this.setConfig=function(a){var b=C;C=a;s[0].config=C.cols;s[1].config=C.rows;var c;a=0;for(c=b.items.length;a<c;++a){var h=b.items[a];if(h){h.set[0]&&y(h.w,s[0].size,"");h.set[1]&&y(h.w,s[1].size,"");if(h.layout){V.setChildSize(h.w,0,h.ps[0]);V.setChildSize(h.w,1,h.ps[1])}}}K=true};this.getId=function(){return A};this.setItemsDirty=function(a){var b,c,h=s[0].config.length;b=0;for(c=a.length;b<c;++b)C.items[a[b][0]*h+a[b][1]].dirty=true;J=true};this.setDirty=function(){K=true};this.setChildSize=
function(a,b,c){var h,i;h=0;for(i=C.items.length;h<i;++h){var k=C.items[h];if(k&&k.id==a.id){if(!k.ps)k.ps=[];k.ps[b]=c;k.layout=true;break}}J=true};this.measure=function(a){var b=e.getElement(A);if(b)if(!e.isHidden(b)){if(!Y){Y=true;if(W=M==null){var c=b.parentNode;for(L=[0,0];;){L[0]+=T(c,0);L[1]+=T(c,1);var h=jQuery.data(c.parentNode,"layout");if(h){U=h;Q=c;break}c=c.parentNode;if(c.childNodes.length!=1)break}}else{U=jQuery.data(document.getElementById(M),"layout");Q=b;L[0]=T(Q,0);L[1]=T(Q,1)}}if(J||
K)Z(a,b,W?b.parentNode:null);if(a==1)J=K=false}};this.apply=function(a){var b=e.getElement(A);if(!b)return false;if(e.isHidden(b))return true;ca(a,b);return true};this.contains=function(a){var b=e.getElement(A);a=e.getElement(a.getId());return b&&a?e.contains(b,a):false}});WT_DECLARE_WT_MEMBER(2,JavaScriptPrototype,"StdLayout2.prototype.initResize",function(){this.resizeInitialized=true});
WT_DECLARE_APP_MEMBER(1,JavaScriptObject,"layouts2",new (function(){var G=[],A=false,M=this,N=false;this.find=function(t){return jQuery.data(document.getElementById(t),"layout")};this.setDirty=function(t){(t=jQuery.data(t,"layout"))&&t.setDirty()};this.add=function(t){function H(D,B){var v,z;v=0;for(z=D.length;v<z;++v){var u=D[v];if(u.contains(B)){H(u.descendants,B);return}else if(B.contains(u)){B.descendants.push(u);D.splice(v,1);--v;--z}}D.push(B)}H(G,t)};var O=false;this.scheduleAdjust=function(){if(!O){O=
true;setTimeout(function(){M.adjust()},0)}};this.adjust=function(t,H){function D(v,z){var u,I;u=0;for(I=v.length;u<I;++u){var E=v[u];D(E.descendants,z);z==1&&N&&E.setDirty();E.measure(z)}}function B(v,z){var u,I;u=0;for(I=v.length;u<I;++u){var E=v[u];if(E.apply(z))B(E.descendants,z);else{v.splice(u,1);--u;--I}}}if(t)(t=this.find(t))&&t.setItemsDirty(H);else{O=false;if(!A){A=true;D(G,0);B(G,0);D(G,1);B(G,1);N=A=false}}};this.updateConfig=function(t,H){(t=this.find(t))&&t.setConfig(H)};window.onresize=
function(){N=true;M.scheduleAdjust()}}));
