WT_DECLARE_WT_MEMBER(1,JavaScriptConstructor,"WAxisSliderWidget",(function(t,e,n,o){let r=!1;const i=function(t){if(!r){r=!0;requestAnimationFrame((function(){t();r=!1}))}},c={};e.wtSObj=this;const s=this,a=t.WT;n.canvas.style.msTouchAction="none";function u(t){return 2===t.pointerType||3===t.pointerType||"pen"===t.pointerType||"touch"===t.pointerType}let f=!1;if(window.MSPointerEvent||window.PointerEvent){e.style.touchAction="none";n.canvas.style.msTouchAction="none";n.canvas.style.touchAction="none"}(window.MSPointerEvent||window.PointerEvent)&&function(){const t=[];function n(){t.length>0&&!f?f=!0:t.length<=0&&f&&(f=!1)}function o(o){if(u(o)){o.preventDefault();t.push(o);n();c.start(e,{touches:t.slice(0)})}}function r(o){if(f&&u(o)){o.preventDefault();for(let e=0;e<t.length;++e)if(t[e].pointerId===o.pointerId){t.splice(e,1);break}n();c.end(e,{touches:t.slice(0),changedTouches:[]})}}function i(o){if(u(o)){o.preventDefault();for(let e=0;e<t.length;++e)if(t[e].pointerId===o.pointerId){t[e]=o;break}n();c.moved(e,{touches:t.slice(0)})}}const s=e.wtEObj;if(s){e.removeEventListener("pointerdown",s.pointerDown);e.removeEventListener("pointerup",s.pointerUp);e.removeEventListener("pointerout",s.pointerUp);e.removeEventListener("pointermove",s.pointerMove)}e.wtEObj={pointerDown:o,pointerUp:r,pointerMove:i};e.addEventListener("pointerdown",o);e.addEventListener("pointerup",r);e.addEventListener("pointerout",r);e.addEventListener("pointermove",i)}();const l=a.gfxUtils.rect_left,h=a.gfxUtils.rect_right,d=a.gfxUtils.rect_top,v=a.gfxUtils.rect_bottom;function p(){return o.chart.config.series[o.series].xAxis}this.xAxis=p;function g(){return o.chart.config.minZoom.x[p()]}function w(){return o.chart.config.maxZoom.x[p()]}let y=null;let x=null;function m(){i(n.repaint)}this.changeRange=function(t,e){t<0&&(t=0);e>1&&(e=1);const n=o.drawArea;o.transform[0]=e-t;o.transform[4]=t*n[2];m()};function E(){const t=o.drawArea,e=o.transform[4]/t[2];return[e,o.transform[0]+e]}function b(t){m();if(t){const t=o.transform,e=o.drawArea,n=t[4]/e[2],r=t[0]+n;o.chart.setXRange(o.series,n,r,o.updateYAxis)}}function M(){return!o.chart.config.isHorizontal}function A(t,e,n){return M()?t.y>=d(e)&&t.y<=v(e)&&t.x>l(e)-n/2&&t.x<l(e)+n/2:t.x>=l(e)&&t.x<=h(e)&&t.y>d(e)-n/2&&t.y<d(e)+n/2}function D(t,e,n){return M()?t.y>=d(e)&&t.y<=v(e)&&t.x>h(e)-n/2&&t.x<h(e)+n/2:t.x>=l(e)&&t.x<=h(e)&&t.y>v(e)-n/2&&t.y<v(e)+n/2}function T(t,e){return M()?t.y>=d(e)&&t.y<=v(e)&&t.x>l(e)&&t.x<h(e):t.x>=l(e)&&t.x<=h(e)&&t.y>d(e)&&t.y<v(e)}this.mouseDown=function(t,n){if(f)return;y=a.widgetCoordinates(e,n);const r=o.rect();if(A(y,r,10))x=1;else if(D(y,r,10))x=3;else{if(!T(y,r)){x=null;return}x=2}a.cancelEvent(n)};this.mouseUp=function(t,e){if(!f){y=null;if(null!==x){x=null;a.cancelEvent(e)}}};function C(t){const e=o.transform,n=o.drawArea,r=e[4]/n[2],i=e[0]+r;let c=(r*n[2]+t)/n[2];if(i<=c)return;const a=1/(i-c);if(a>w())return;if(a<g())return;c<0&&(c=0);c>1&&(c=1);s.changeRange(c,i);b(!0);const u=E();if(Math.abs(u[1]-i)>Math.abs(u[0]-r)){s.changeRange(r,i);b(!0)}}function L(t){const e=o.transform,n=o.drawArea,r=e[4]/n[2],i=e[0]+r;let c=(i*n[2]+t)/n[2];if(c<=r)return;const a=1/(c-r);if(a>w())return;if(a<g())return;c<0&&(c=0);c>1&&(c=1);s.changeRange(r,c);b(!0);const u=E();if(Math.abs(u[0]-r)>Math.abs(u[1]-i)){s.changeRange(r,i);b(!0)}}function R(t){const e=o.transform,n=o.drawArea,r=e[4]/n[2],i=e[0]+r,c=r*n[2];let a=c+t;if(a<0){t=-c;a=0}let u=a/n[2];const f=i*n[2];let l=f+t;if(l>n[2]){a=c+(t=n[2]-f);u=a/n[2];l=n[2]}const h=l/n[2];s.changeRange(u,h);b(!0)}this.mouseDrag=function(t,n){if(f)return;if(!x)return;a.cancelEvent(n);const o=a.widgetCoordinates(e,n);if(null===y){y=o;return}let r;r=M()?o.x-y.x:o.y-y.y;switch(x){case 1:C(r);break;case 2:R(r);break;case 3:L(r)}y=o;b(!0)};this.mouseMoved=function(t,r){setTimeout((function(){if(f)return;if(x)return;const t=a.widgetCoordinates(e,r),i=o.rect();A(t,i,10)||D(t,i,10)?M()?n.canvas.style.cursor="col-resize":n.canvas.style.cursor="row-resize":T(t,i)?n.canvas.style.cursor="move":n.canvas.style.cursor="auto"}),0)};let S=!1,U=!1,_=null;c.start=function(t,e){S=1===e.touches.length;U=2===e.touches.length;if(S){y=a.widgetCoordinates(n.canvas,e.touches[0]);const t=o.rect();if(A(y,t,20))x=1;else if(D(y,t,20))x=3;else{if(!T(y,t)){x=null;return}x=2}a.capture(null);a.capture(n.canvas);e.preventDefault&&e.preventDefault()}else if(U){x=null;const t=[a.widgetCoordinates(n.canvas,e.touches[0]),a.widgetCoordinates(n.canvas,e.touches[1])],r=o.rect();if(!T(t[0],r)||!T(t[1],r))return;_=M()?Math.abs(t[0].x-t[1].x):Math.abs(t[0].y-t[1].y);a.capture(null);a.capture(n.canvas);e.preventDefault&&e.preventDefault()}};c.end=function(t,n){const o=Array.prototype.slice.call(n.touches),r=S,i=U;let s=0===o.length;S=1===o.length;U=2===o.length;s||function(){for(let t=0;t<n.changedTouches.length;++t)!function(){const e=n.changedTouches[t].identifier;for(let t=0;t<o.length;++t)if(o[t].identifier===e){o.splice(t,1);return}}()}();s=0===o.length;S=1===o.length;U=2===o.length;if(s&&r){y=null;if(null===x)return;x=null;a.cancelEvent(n)}if(S&&i){U=!1;_=null;a.cancelEvent(n);c.start(e,n)}if(s&&i){U=!1;_=null;a.cancelEvent(n)}};c.moved=function(t,o){if(x){o.preventDefault&&o.preventDefault();const t=a.widgetCoordinates(e,o);if(null===y){y=t;return}let n;n=M()?t.x-y.x:t.y-y.y;switch(x){case 1:C(n);break;case 2:R(n);break;case 3:L(n)}y=t;b(!0)}else if(U){o.preventDefault&&o.preventDefault();const t=[a.widgetCoordinates(n.canvas,o.touches[0]),a.widgetCoordinates(n.canvas,o.touches[1])];let e;e=M()?Math.abs(t[0].x-t[1].x):Math.abs(t[0].y-t[1].y);const r=e-_;C(-r/2);L(r/2);_=e;b(!0)}};this.updateConfig=function(t){for(const[e,n]of Object.entries(t))o[e]=n;b(!1)};s.updateConfig({});if(!window.TouchEvent||window.MSPointerEvent||window.PointerEvent){const t=function(){};s.touchStarted=t;s.touchEnded=t;s.touchMoved=t}else{s.touchStarted=c.start;s.touchEnded=c.end;s.touchMoved=c.moved}}));