WT_DECLARE_WT_MEMBER(1,JavaScriptConstructor,"WAxisSliderWidget",function(y,d,m,h){function C(a){return a.pointerType===2||a.pointerType===3||a.pointerType==="pen"||a.pointerType==="touch"}function I(){K(m.repaint)}function s(){I();var a=h.transform,b=a[4]/h.drawArea[2];h.chart.setXRange(h.series,b,a[0]+b)}function q(){return!h.chart.config.isHorizontal}function D(a,b,c){return q()?a.y>=t(b)&&a.y<=u(b)&&a.x>v(b)-c/2&&a.x<v(b)+c/2:a.x>=v(b)&&a.x<=w(b)&&a.y>t(b)-c/2&&a.y<t(b)+c/2}function E(a,b,c){return q()?
a.y>=t(b)&&a.y<=u(b)&&a.x>w(b)-c/2&&a.x<w(b)+c/2:a.x>=v(b)&&a.x<=w(b)&&a.y>u(b)-c/2&&a.y<u(b)+c/2}function z(a,b){return q()?a.y>=t(b)&&a.y<=u(b)&&a.x>v(b)&&a.x<w(b):a.x>=v(b)&&a.x<=w(b)&&a.y>t(b)&&a.y<u(b)}function F(a){var b=h.transform,c=h.drawArea,e=b[4]/c[2];b=b[0]+e;a=(e*c[2]+a)/c[2];if(!(1/(b-a)>h.chart.config.maxZoom[0])){if(a<0)a=0;if(a>1)a=1;n.changeRange(a,b);s()}}function G(a){var b=h.transform,c=h.drawArea,e=b[4]/c[2];a=((b[0]+e)*c[2]+a)/c[2];if(!(1/(a-e)>h.chart.config.maxZoom[0])){if(a<
0)a=0;if(a>1)a=1;n.changeRange(e,a);s()}}function J(a){var b=h.transform,c=h.drawArea,e=b[4]/c[2];b=b[0]+e;e=e*c[2];var f=e+a;if(f<0){a=-e;f=0}f=f/c[2];b=b*c[2];a=b+a;if(a>c[2]){a=c[2]-b;f=e+a;f=f/c[2];a=c[2]}n.changeRange(f,a/c[2]);s()}var M=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(a){window.setTimeout(a,0)}}(),H=false,K=function(a){if(!H){H=true;M(function(){a();H=false})}},o={};jQuery.data(d,"sobj",this);var n=
this,g=y.WT;m.canvas.style.msTouchAction="none";var p=false;if(window.MSPointerEvent||window.PointerEvent)(function(){function a(){if(pointers.length>0&&!p)p=true;else if(pointers.length<=0&&p)p=false}function b(k){if(C(k)){k.preventDefault();pointers.push(k);a();o.start(d,{touches:pointers.slice(0)})}}function c(k){if(p)if(C(k)){k.preventDefault();var l;for(l=0;l<pointers.length;++l)if(pointers[l].pointerId===k.pointerId){pointers.splice(l,1);break}a();o.end(d,{touches:pointers.slice(0),changedTouches:[]})}}
function e(k){if(C(k)){k.preventDefault();var l;for(l=0;l<pointers.length;++l)if(pointers[l].pointerId===k.pointerId){pointers[l]=k;break}a();o.moved(d,{touches:pointers.slice(0)})}}pointers=[];var f=jQuery.data(d,"eobj");if(f)if(window.PointerEvent){d.removeEventListener("pointerdown",f.pointerDown);d.removeEventListener("pointerup",f.pointerUp);d.removeEventListener("pointerout",f.pointerUp);d.removeEventListener("pointermove",f.pointerMove)}else{d.removeEventListener("MSPointerDown",f.pointerDown);
d.removeEventListener("MSPointerUp",f.pointerUp);d.removeEventListener("MSPointerOut",f.pointerUp);d.removeEventListener("MSPointerMove",f.pointerMove)}jQuery.data(d,"eobj",{pointerDown:b,pointerUp:c,pointerMove:e});if(window.PointerEvent){d.addEventListener("pointerdown",b);d.addEventListener("pointerup",c);d.addEventListener("pointerout",c);d.addEventListener("pointermove",e)}else{d.addEventListener("MSPointerDown",b);d.addEventListener("MSPointerUp",c);d.addEventListener("MSPointerOut",c);d.addEventListener("MSPointerMove",
e)}})();var v=g.gfxUtils.rect_left,w=g.gfxUtils.rect_right,t=g.gfxUtils.rect_top,u=g.gfxUtils.rect_bottom,i=null,j=null;this.changeRange=function(a,b){if(a<0)a=0;if(b>1)b=1;var c=h.drawArea;h.transform[0]=b-a;h.transform[4]=a*c[2];I()};this.mouseDown=function(a,b){if(!p){i=g.widgetCoordinates(d,b);a=h.rect();if(D(i,a,10))j=1;else if(E(i,a,10))j=3;else if(z(i,a))j=2;else{j=null;return}g.cancelEvent(b)}};this.mouseUp=function(a,b){if(!p){i=null;if(j!==null){j=null;g.cancelEvent(b)}}};this.mouseDrag=
function(a,b){if(!p)if(j){g.cancelEvent(b);a=g.widgetCoordinates(d,b);if(i===null)i=a;else{b=q()?a.x-i.x:a.y-i.y;switch(j){case 1:F(b);break;case 2:J(b);break;case 3:G(b);break}i=a;s()}}};this.mouseMoved=function(a,b){setTimeout(function(){if(!p)if(!j){var c=g.widgetCoordinates(d,b),e=h.rect();m.canvas.style.cursor=D(c,e,10)||E(c,e,10)?q()?"col-resize":"row-resize":z(c,e)?"move":"auto"}},0)};var x=false,r=false,A=null;o.start=function(a,b){x=b.touches.length===1;r=b.touches.length===2;if(x){i=g.widgetCoordinates(m.canvas,
b.touches[0]);a=h.rect();if(D(i,a,20))j=1;else if(E(i,a,20))j=3;else if(z(i,a))j=2;else{j=null;return}g.capture(null);g.capture(m.canvas);b.preventDefault&&b.preventDefault()}else if(r){j=null;var c=[g.widgetCoordinates(m.canvas,b.touches[0]),g.widgetCoordinates(m.canvas,b.touches[1])];a=h.rect();if(z(c[0],a)&&z(c[1],a)){A=q()?Math.abs(c[0].x-c[1].x):Math.abs(c[0].y-c[1].y);g.capture(null);g.capture(m.canvas);b.preventDefault&&b.preventDefault()}}};o.end=function(a,b){var c=Array.prototype.slice.call(b.touches);
a=x;var e=r,f=c.length===0;x=c.length===1;r=c.length===2;f||function(){var k;for(k=0;k<b.changedTouches.length;++k)(function(){for(var l=b.changedTouches[k].identifier,B=0;B<c.length;++B)if(c[B].identifier===l){c.splice(B,1);return}})()}();f=c.length===0;x=c.length===1;r=c.length===2;if(f&&a){i=null;if(j===null)return;j=null;g.cancelEvent(b)}if(x&&e){r=false;A=null;g.cancelEvent(b);o.start(d,b)}if(f&&e){r=false;A=null;g.cancelEvent(b)}};o.moved=function(a,b){if(j){b.preventDefault&&b.preventDefault();
a=g.widgetCoordinates(d,b);if(i===null)i=a;else{b=q()?a.x-i.x:a.y-i.y;switch(j){case 1:F(b);break;case 2:J(b);break;case 3:G(b);break}i=a;s()}}else if(r){b.preventDefault&&b.preventDefault();touches=[g.widgetCoordinates(m.canvas,b.touches[0]),g.widgetCoordinates(m.canvas,b.touches[1])];h.rect();a=q()?Math.abs(touches[0].x-touches[1].x):Math.abs(touches[0].y-touches[1].y);b=a-A;F(-b/2);G(b/2);A=a;s()}};this.updateConfig=function(a){for(var b in a)if(a.hasOwnProperty(b))h[b]=a[b];s()};n.updateConfig({});
if(window.TouchEvent&&!window.MSPointerEvent&&!window.PointerEvent){n.touchStarted=o.start;n.touchEnded=o.end;n.touchMoved=o.moved}else{y=function(){};n.touchStarted=y;n.touchEnded=y;n.touchMoved=y}});
