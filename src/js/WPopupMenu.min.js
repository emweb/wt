WT_DECLARE_WT_MEMBER(1,JavaScriptConstructor,"WPopupMenu",function(v,c,w){function j(){k(c,null);c.style.display="none";setTimeout(function(){v.emit(c.id,"cancel")},0)}function x(a,b){$(a).toggleClass("active",b)}function l(a){if(a.subMenu)return a.subMenu;else{var b=a.lastChild;if(b&&d.hasTag(b,"UL")){a.subMenu=b;b.parentItem=a;$(b).mousemove(y);m(b);return b}else return null}}function F(a){a.style.display="block";if(a.parentNode==a.parentItem){a.parentNode.removeChild(a);c.parentNode.appendChild(a)}var b=
d.px(a,"paddingTop")+d.px(a,"borderTopWidth");d.positionAtWidget(a.id,a.parentItem.id,d.Horizontal,-b);k(a,null);if(d.isIOS){$(a).unbind("touchstart",n).bind("touchstart",n);$(a).unbind("touchend",o).bind("touchend",o)}}function k(a,b){function z(h,e){if(h==e)return true;else if(e)return(e=e.parentNode.parentItem)?z(h,e):false;else return false}function p(h){var e,A;e=0;for(A=h.childNodes.length;e<A;++e){var f=h.childNodes[e];if(z(f,b)){if(f!==b)(f=l(f))&&p(f)}else{x(f,false);if(f=l(f)){f.style.display=
"none";p(f)}}}}p(a)}function y(a){for(a=d.target(a);a&&!d.hasTag(a,"LI")&&!d.hasTag(a,"UL");)a=a.parentNode;if(d.hasTag(a,"LI"))if(a!==q){q=a;x(a,true);var b=l(a);b&&F(b);k(c,a)}}function G(){r=false;clearTimeout(g);if(w>=0)g=setTimeout(j,w)}function H(){r=true;clearTimeout(g)}function m(a){$(a).mouseleave(G).mouseenter(H)}function s(){return document.getElementById(c.id)!=null}function B(a){t=true;s()&&d.button(a)!=1&&j()}function u(){if(s()){t=false;j()}}function C(a){s()&&a.keyCode==27&&j()}function I(){if(d.isIOS){$(document).bind("touchstart",
D);$(document).bind("touchend",E)}else $(document).bind("click",u)}function J(){if(d.isIOS){$(document).unbind("touchstart",D);$(document).unbind("touchend",E)}else $(document).unbind("click",u)}function D(a){a=a.originalEvent.touches;i=a.length>1?null:{x:a[0].screenX,y:a[0].screenY}}function n(a){a.stopPropagation()}function E(a){if(i){var b=a.originalEvent.changedTouches[0];Math.abs(i.x-b.screenX)<20&&Math.abs(i.y-b.screenY)<20&&u(a);i=null}}function o(a){a.stopPropagation()}jQuery.data(c,"obj",
this);var d=v.WT,g=null,r=false,q=null,i=null,t=false;if(d.isIOS){$(c).bind("touchstart",n);$(c).bind("touchend",o)}this.setHidden=function(a){a||(t=false);if(g){clearTimeout(g);g=null}r=false;q=null;if(a){c.style.position="";c.style.display="";c.style.left="";c.style.top="";$(document).unbind("mousedown",B);J();$(document).unbind("keydown",C)}else{setTimeout(function(){$(document).bind("mousedown",B);I();$(document).bind("keydown",C)},0);c.style.display="block"}k(c,null)};this.popupAt=function(a){m(a)};
setTimeout(function(){m(c)},0);$(c).mousemove(y)});
