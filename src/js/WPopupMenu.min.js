WT_DECLARE_WT_MEMBER(1,JavaScriptConstructor,"WPopupMenu",function(s,c,t){function i(){j(c,null);c.style.display="none";setTimeout(function(){s.emit(c.id,"cancel")},0)}function u(a,b){$(a).toggleClass("active",b)}function l(a){if(a.subMenu)return a.subMenu;else{var b=a.lastChild;if(b&&d.hasTag(b,"UL")){a.subMenu=b;b.parentItem=a;$(b).mousemove(v);m(b);return b}else return null}}function C(a){a.style.display="block";if(a.parentNode==a.parentItem){a.parentNode.removeChild(a);c.parentNode.appendChild(a)}var b=
d.px(a,"paddingTop")+d.px(a,"borderTopWidth");d.positionAtWidget(a.id,a.parentItem.id,d.Horizontal,-b);j(a,null)}function j(a,b){function w(h,e){if(h==e)return true;else if(e)return(e=e.parentNode.parentItem)?w(h,e):false;else return false}function n(h){var e,x;e=0;for(x=h.childNodes.length;e<x;++e){var f=h.childNodes[e];if(w(f,b)){if(f!==b)(f=l(f))&&n(f)}else{u(f,false);if(f=l(f)){f.style.display="none";n(f)}}}}n(a)}function v(a){for(a=d.target(a);a&&!d.hasTag(a,"LI")&&!d.hasTag(a,"UL");)a=a.parentNode;
if(d.hasTag(a,"LI"))if(a!==o){o=a;u(a,true);var b=l(a);b&&C(b);j(c,a)}}function D(){p=false;clearTimeout(g);if(t>=0)g=setTimeout(i,t)}function E(){p=true;clearTimeout(g)}function m(a){$(a).mouseleave(D).mouseenter(E)}function q(){return document.getElementById(c.id)!=null}function y(a){r=true;q()&&d.button(a)!=1&&i()}function z(){if(q()){r=false;i()}}function A(a){q()&&a.keyCode==27&&i()}function B(a){if(d.isIOS){a("touchstart",F);a("touchend",G)}else a("click",z)}function H(){B($(document).bind)}
function I(){B($(document).unbind)}function F(a){a=a.originalEvent.touches;k=a.length>1?null:{x:a[0].screenX,y:a[0].screenY}}function G(a){if(k){var b=a.originalEvent.changedTouches[0];Math.abs(k.x-b.screenX)<20&&Math.abs(k.y-b.screenY)<20&&z(a)}}jQuery.data(c,"obj",this);var d=s.WT,g=null,p=false,o=null,k=null,r=false;this.setHidden=function(a){a||(r=false);if(g){clearTimeout(g);g=null}p=false;o=null;if(a){c.style.position="";c.style.display="";c.style.left="";c.style.top="";$(document).unbind("mousedown",
y);I();$(document).unbind("keydown",A)}else{setTimeout(function(){$(document).bind("mousedown",y);H();$(document).bind("keydown",A)},0);c.style.display="block"}j(c,null)};this.popupAt=function(a){m(a)};setTimeout(function(){m(c)},0);$(c).mousemove(v)});
