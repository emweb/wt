/*
 Copyright (C) 2010 Emweb bvba, Kessel-Lo, Belgium.

 For terms of use, see LICENSE.
 Includes Array Remove - By John Resig (MIT Licensed)
 Includes normalizeWheel from Fixed Data Tables for React by Facebook (BSD Licensed)
 Includes jQuery Caret Range plugin
 Copyright (c) 2009 Matt Zabriskie
 Released under the MIT and GPL licenses.

 Includes Yahoo History Frameowork
 Copyright (c) 2008, Yahoo! Inc. All rights reserved.
 Code licensed under the BSD License:
 http://developer.yahoo.net/yui/license.txt
 version: 2.5.2
*/
_$_$if_DYNAMIC_JS_$_();window.JavaScriptFunction=1;window.JavaScriptConstructor=2;window.JavaScriptObject=3;window.JavaScriptPrototype=4;window.WT_DECLARE_WT_MEMBER=function(b,d,a,c){if(d==JavaScriptPrototype){var f=a.indexOf(".prototype");_$_WT_CLASS_$_[a.substr(0,f)].prototype[a.substr(f+".prototype.".length)]=c}else{if(d==JavaScriptFunction){_$_WT_CLASS_$_[a]=function(){return c.apply(_$_WT_CLASS_$_,arguments)}}else{_$_WT_CLASS_$_[a]=c}}};window.WT_DECLARE_WT_MEMBER_BIG=window.WT_DECLARE_WT_MEMBER;window.WT_DECLARE_APP_MEMBER=function(b,d,a,c){var g=window.currentApp;if(d==JavaScriptPrototype){var f=a.indexOf(".prototype");g[a.substr(0,f)].prototype[a.substr(f+".prototype.".length)]=c}else{if(d==JavaScriptFunction){g[a]=function(){return c.apply(g,arguments)}}else{g[a]=c}}};_$_$endif_$_();_$_$ifnot_DYNAMIC_JS_$_();window.JavaScriptConstructor=2;window.WT_DECLARE_WT_MEMBER_BIG=function(b,d,a,c){return c};_$_$endif_$_();if(!window._$_WT_CLASS_$_){window._$_WT_CLASS_$_=new (function(){var E=this;var K="undefined";var H="unknown";this.condCall=function(N,M,L){if(N[M]){N[M](L)}};this.buttons=0;var x=0,t=0;this.button=function(M){try{var L=M.type;if(E.isIE&&(L=="click"||L=="dblclick")){return x}if(L!="mouseup"&&L!="mousedown"&&L!="click"&&L!="dblclick"){return 0}}catch(M){return 0}if(E.isIElt9){if(M.button==2){return 4}else{if(M.button==4){return 2}else{if(M.button==1){return 1}else{return 0}}}}else{if(M.button==0){return 1}else{if(M.button==1){return 2}else{if(M.button==2){return 4}else{return 0}}}}};this.mouseDown=function(L){E.buttons|=E.button(L)};this.mouseUp=function(L){x=E.button(L);E.buttons&=~x;setTimeout(function(){t=0},5)};this.dragged=function(L){return t>2};this.drag=function(L){++t};this.arrayRemove=function(L,O,N){var M=L.slice((N||O)+1||L.length);L.length=O<0?L.length+O:O;return L.push.apply(L,M)};this.addAll=function(M,L){for(var O=0,N=L.length;O<N;++O){M.push(L[O])}};var u=(function(){var N,L=3,O=document.createElement("div"),M=O.getElementsByTagName("i");while(O.innerHTML="<!--[if gt IE "+(++L)+"]><i></i><![endif]-->",M[0]){}return L>4?L:N}());var a=navigator.userAgent.toLowerCase();this.isIE=u!==undefined;this.isIE6=u===6;this.isIE8=u===8;this.isIElt9=u<9;this.isIEMobile=a.indexOf("msie 4")!=-1||a.indexOf("msie 5")!=-1;this.isOpera=typeof window.opera!==K;this.isAndroid=(a.indexOf("safari")!=-1)&&(a.indexOf("android")!=-1);this.isWebKit=(a.indexOf("applewebkit")!=-1);this.isGecko=a.indexOf("gecko")!=-1&&!this.isWebKit;this.isIOS=a.indexOf("iphone")!=-1||a.indexOf("ipad")!=-1||a.indexOf("ipod")!=-1;this.updateDelay=this.isIE?10:51;if(this.isAndroid){console.error("init console.error");console.info("init console.info");console.log("init console.log");console.warn("init console.warn")}var h=new Date();this.trace=function(L,O){if(O){h=new Date()}var M=new Date();var N=(M.getMinutes()-h.getMinutes())*60000+(M.getSeconds()-h.getSeconds())*1000+(M.getMilliseconds()-h.getMilliseconds());if(window.console){console.log("["+N+"]: "+L)}};function r(L){var M=L.split("/");return M[2]}this.initAjaxComm=function(L,M){var P=(L.indexOf("://")!=-1||L.indexOf("//")==0)&&r(L)!=window.location.host;function O(V,S){var U=null;var R=true;if(window.XMLHttpRequest){U=new XMLHttpRequest();if(P){if("withCredentials" in U){if(S){U.open(V,S,true);U.withCredentials="true"}}else{if(typeof XDomainRequest!="undefined"){U=new XDomainRequest();if(S){R=false;try{U.open(V,S+"&contentType=x-www-form-urlencoded")}catch(T){U=null}}}else{U=null}}}else{if(S){U.open(V,S,true)}}}else{if(!P&&window.ActiveXObject){try{U=new ActiveXObject("Msxml2.XMLHTTP")}catch(T){try{U=new ActiveXObject("Microsoft.XMLHTTP")}catch(Q){}}if(S&&U){U.open(V,S,true)}}}if(U&&S&&R){U.setRequestHeader("Content-type","application/x-www-form-urlencoded")}return U}var N=O("POST",L);if(N!=null){return new (function(){var R=L;function Q(X,V,T,ab){var W=O("POST",R);var U=null;var Z=false;function Y(ae){if(Z){return}clearTimeout(U);if(!R){return}Z=true;var ad=W;if(W){W.onreadystatechange=new Function;try{W.onload=W.onreadystatechange}catch(af){}W=null}if(ae){M(0,ad.responseText,V)}else{M(1,null,V)}}function ac(){if(W.readyState==4){var ad=W.status==200&&W.getResponseHeader("Content-Type")&&W.getResponseHeader("Content-Type").indexOf("text/javascript")==0;Y(ad)}}function S(){if(Z){return}if(!R){return}W.onreadystatechange=new Function;W=null;Z=true;M(2,null,V)}this.abort=function(){if(W!=null){W.onreadystatechange=new Function;Z=true;W.abort();W=null}};if(_$_CLOSE_CONNECTION_$_){W.setRequestHeader("Connection","close")}if(ab>0){U=setTimeout(S,ab)}W.onreadystatechange=ac;try{W.onload=function(){Y(true)};W.onerror=function(){Y(false)}}catch(aa){}W.send(X)}this.responseReceived=function(S){};this.sendUpdate=function(U,S,V,T){if(!R){return null}return new Q(U,S,V,T)};this.cancel=function(){R=null};this.setUrl=function(S){R=S}})()}else{return new (function(){var S=L;var R=null;function Q(Z,U,aa,Y){var V=this;this.userData=U;var X=this.script=document.createElement("script");X.id="script"+aa;X.setAttribute("src",S+"&"+Z);function T(){M(1,null,U);X.parentNode.removeChild(X)}X.onerror=T;var W=document.getElementsByTagName("head")[0];W.appendChild(X);this.abort=function(){X.parentNode.removeChild(X)}}this.responseReceived=function(T){if(R!=null){var U=R;R.script.parentNode.removeChild(R.script);R=null;M(0,"",U.userData)}};this.sendUpdate=function(V,T,W,U){if(!S){return null}R=new Q(V,T,W,U);return R};this.cancel=function(){S=null};this.setUrl=function(T){S=T}})()}};this.setHtml=function(Q,P,R){function N(X,T){var W,V,U;switch(X.nodeType){case 1:if(X.namespaceURI===null){W=document.createElement(X.nodeName)}else{W=document.createElementNS(X.namespaceURI,X.nodeName)}if(X.attributes&&X.attributes.length>0){for(V=0,U=X.attributes.length;V<U;){W.setAttribute(X.attributes[V].nodeName,X.getAttribute(X.attributes[V++].nodeName))}}if(T&&X.childNodes.length>0){for(V=0,U=X.childNodes.length;V<U;){var Y=N(X.childNodes[V++],T);if(Y){W.appendChild(Y)}}}return W;break;case 3:case 4:case 5:return document.createTextNode(X.nodeValue);break}return null}if(E.isIE||(_$_INNER_HTML_$_&&!R)){if(R){Q.innerHTML+=P}else{E.saveReparented(Q);Q.innerHTML=P}}else{var S,L;S=new DOMParser();L=S.parseFromString("<div>"+P+"</div>","application/xhtml+xml");S=L.documentElement;if(S.nodeType!=1){S=S.nextSibling}if(!R){E.saveReparented(Q);Q.innerHTML=""}for(var O=0,M=S.childNodes.length;O<M;){Q.appendChild(N(S.childNodes[O++],true))}}};this.hasTag=function(M,L){return M.nodeType==1&&M.tagName&&M.tagName.toUpperCase()===L};this.insertAt=function(O,Q,P){if(!O.childNodes.length){O.appendChild(Q)}else{var N,M,L;for(N=0,M=0,L=O.childNodes.length;N<L;++N){if($(O.childNodes[N]).hasClass("wt-reparented")){continue}if(M===P){O.insertBefore(Q,O.childNodes[N]);return}++M}O.appendChild(Q)}};this.remove=function(M){var L=E.getElement(M);if(L){E.saveReparented(L);L.parentNode.removeChild(L)}};this.replaceWith=function(M,N){var L=$("#"+M);L.replaceWith(N);if(N.get(0).wtValidate&&E.validate){setTimeout(function(){E.validate(N.get(0))},0)}};this.contains=function(M,L){var N=L.parentNode;while(N&&!E.hasTag(N,"BODY")){if(N==M){return true}N=N.parentNode}return false};this.unstub=function(P,O,M){if(M==1){if(P.style.display!="none"){O.style.display=P.style.display}}else{O.style.position=P.style.position;O.style.left=P.style.left;O.style.visibility=P.style.visibility}if(P.style.height){O.style.height=P.style.height}if(P.style.width){O.style.width=P.style.width}O.style.boxSizing=P.style.boxSizing;var L=E.styleAttribute("box-sizing");var N=E.vendorPrefix(L);if(N){O.style[L]=P.style[L]}};this.saveReparented=function(L){$(L).find(".wt-reparented").each(function(){var M=$(".Wt-domRoot").get(0);M.appendChild(this.parentNode.removeChild(this))})};this.changeTag=function(O,N){var Q=document.createElement(N);if(N=="img"&&Q.mergeAttributes){Q.mergeAttributes(O,false);Q.src=O.src}else{if(O.attributes&&O.attributes.length>0){var M,L;for(M=0,L=O.attributes.length;M<L;M++){var P=O.attributes[M].nodeName;if(P!="type"&&P!="name"){Q.setAttribute(P,O.getAttribute(P))}}}}while(O.firstChild){Q.appendChild(O.removeChild(O.firstChild))}O.parentNode.replaceChild(Q,O)};this.unwrap=function(N){N=E.getElement(N);if(!N.parentNode.className.indexOf("Wt-wrap")){var L=N;N=N.parentNode;if(N.className.length>=8){L.className=N.className.substring(8)}var M=N.getAttribute("style");if(M){if(E.isIE){L.style.setAttribute("cssText",M)}else{L.setAttribute("style",M)}}N.parentNode.replaceChild(L,N)}else{if(N.getAttribute("type")=="submit"){N.setAttribute("type","button");N.removeAttribute("name")}else{if(E.hasTag(N,"A")&&N.href.indexOf("&signal=")!=-1){N.href="javascript:void(0)"}}if(E.hasTag(N,"INPUT")&&N.getAttribute("type")=="image"){E.changeTag(N,"img")}}};this.navigateInternalPath=function(L,N){var M=L||window.event;if(!M.ctrlKey&&!M.metaKey&&E.button(M)<=1){E.history.navigate(N,true);E.cancelEvent(M,E.CancelDefaultAction)}};this.ajaxInternalPaths=function(L){$(".Wt-ip").each(function(){var M=this.getAttribute("href"),P=M.lastIndexOf("?wtd");if(P===-1){P=M.lastIndexOf("&wtd")}if(P!==-1){M=M.substr(0,P)}var Q;if(M.indexOf("://")!=-1){var O=document.createElement("div");O.innerHTML='<a href="'+L+'">x</a>';var N=O.firstChild.href;Q=M.substr(N.length-1)}else{while(M.substr(0,3)=="../"){M=M.substr(3)}if(M.charAt(0)!="/"){M="/"+M}Q=M.substr(L.length);if(Q.substr(0,2)=="_="&&L.charAt(L.length-1)=="?"){Q="?"+Q}}if(Q.length==0||Q.charAt(0)!="/"){Q="/"+Q}if(Q.substr(0,4)=="/?_="){Q=Q.substr(4)}this.setAttribute("href",M);this.setAttribute("href",this.href);this.onclick=function(R){E.navigateInternalPath(R,Q)};$(this).removeClass("Wt-ip")})};this.resolveRelativeAnchors=function(){if(window.$){$(".Wt-rr").each(function(){if(this.href){this.setAttribute("href",this.href)}if(this.src){this.setAttribute("src",this.src)}$(this).removeClass("Wt-rr")})}};var I=false;this.CancelPropagate=1;this.CancelDefaultAction=2;this.CancelAll=3;this.cancelEvent=function(N,L){if(I){return}var M=L===undefined?E.CancelAll:L;if(M&E.CancelDefaultAction){if(N.preventDefault){N.preventDefault()}else{N.returnValue=false}}if(M&E.CancelPropagate){if(N.stopPropagation){N.stopPropagation()}else{N.cancelBubble=true}}};this.getElement=function(O){var M=document.getElementById(O);if(!M){for(var L=0;L<window.frames.length;++L){try{M=window.frames[L].document.getElementById(O);if(M){return M}}catch(N){}}}return M};this.$=this.getElement;this.filter=function(M,L,N){var O=String.fromCharCode((typeof L.charCode!==K)?L.charCode:L.keyCode);if(!new RegExp(N).test(O)){E.cancelEvent(L)}};this.widgetPageCoordinates=function(R,M){var O=0,N=0,S;if(!R.parentNode){return{x:0,y:0}}if(E.hasTag(R,"AREA")){R=R.parentNode.nextSibling}var Q=$(document.body).hasClass("Wt-rtl");while(R&&R!==M){O+=R.offsetLeft;N+=R.offsetTop;var P=E.css(R,"position");if(P=="fixed"){O+=document.body.scrollLeft+document.documentElement.scrollLeft;N+=document.body.scrollTop+document.documentElement.scrollTop;break}S=R.offsetParent;if(S==null){R=null}else{do{R=R.parentNode;if(E.hasTag(R,"DIV")){if(Q&&!E.isGecko){if(R.scrollWidth>R.parentNode.scrollWidth){var L=R.scrollLeft+R.parentNode.scrollWidth-R.scrollWidth;O-=L}}else{O-=R.scrollLeft}N-=R.scrollTop}}while(R!=null&&R!=S)}}return{x:O,y:N}};this.widgetCoordinates=function(O,N){var M=E.pageCoordinates(N);var L=E.widgetPageCoordinates(O);return{x:M.x-L.x,y:M.y-L.y}};this.pageCoordinates=function(O){if(!O){O=window.event}var Q=0,P=0;var N=O.target||O.srcElement;if(N&&(N.ownerDocument!=document)){for(var L=0;L<window.frames.length;L++){if(N.ownerDocument==window.frames[L].document){try{var M=window.frames[L].frameElement.getBoundingClientRect();Q=M.left;P=M.top}catch(O){}}}}if(O.touches&&O.touches[0]){return E.pageCoordinates(O.touches[0])}else{if(!E.isIE&&O.changedTouches&&O.changedTouches[0]){Q+=O.changedTouches[0].pageX;P+=O.changedTouches[0].pageY}else{if(typeof O.pageX==="number"){Q+=O.pageX;P=O.pageY}else{if(typeof O.clientX==="number"){Q+=O.clientX+document.body.scrollLeft+document.documentElement.scrollLeft;P+=O.clientY+document.body.scrollTop+document.documentElement.scrollTop}}}}return{x:Q,y:P}};this.windowCoordinates=function(N){var M=E.pageCoordinates(N);var L=M.x-document.body.scrollLeft-document.documentElement.scrollLeft;var O=M.y-document.body.scrollTop-document.documentElement.scrollTop;return{x:L,y:O}};this.normalizeWheel=function(Q){var M=10;var P=40;var O=800;var S=0,R=0,N=0,L=0;if("detail" in Q){R=Q.detail}if("wheelDelta" in Q){R=-Q.wheelDelta/120}if("wheelDeltaY" in Q){R=-Q.wheelDeltaY/120}if("wheelDeltaX" in Q){S=-Q.wheelDeltaX/120}if("axis" in Q&&Q.axis===Q.HORIZONTAL_AXIS){S=R;R=0}N=S*M;L=R*M;if("deltaY" in Q){L=Q.deltaY}if("deltaX" in Q){N=Q.deltaX}if((N||L)&&Q.deltaMode){if(Q.deltaMode==1){N*=P;L*=P}else{N*=O;L*=O}}if(N&&!S){S=N<1?-1:1}if(L&&!R){R=L<1?-1:1}return{spinX:S,spinY:R,pixelX:N,pixelY:L}};this.wheelDelta=function(L){var M=0;if(L.deltaY){M=L.deltaY>0?-1:1}else{if(L.wheelDelta){M=L.wheelDelta>0?1:-1}else{if(L.detail){M=L.detail<0?1:-1}}}return M};this.scrollHistory=function(){try{if(window.history.state){if(typeof window.history.state.pageXOffset!==K){window.scrollTo(window.history.state.pageXOffset,window.history.state.pageYOffset)}else{window.scrollTo(0,0);E.scrollIntoView(window.history.state.state)}}}catch(L){console.log(L)}};this.scrollIntoView=function(P){var L=P.indexOf("#");if(L!=-1){P=P.substr(L+1)}var O=document.getElementById(P);if(O){var N;for(N=O.parentNode;N!=document.body;N=N.parentNode){if(N.scrollHeight>N.clientHeight&&E.css(N,"overflow-y")=="auto"){var M=E.widgetPageCoordinates(O,N);N.scrollTop+=M.y;return}}O.scrollIntoView(true)}};function m(L){return 55296<=L&&L<=56319}function s(L){return 56320<=L&&L<=57343}function f(N,O){var M;var P=N.start;var L=N.end;if(O){for(M=0;M<O.length;++M){if(M>=N.start&&M>=N.end){return{start:P,end:L}}if(m(O.charCodeAt(M))&&(M+1)<O.length&&s(O.charCodeAt(M+1))){if(M<N.start){--P}if(M<N.end){--L}}}}return{start:P,end:L}}this.getUnicodeSelectionRange=function(L){return f(E.getSelectionRange(L),$(L).val())};this.getSelectionRange=function(Q){if(document.selection){if(E.hasTag(Q,"TEXTAREA")){var N=document.selection.createRange();var P=N.duplicate();P.moveToElementText(Q);var U=0;if(N.text.length>1){U=U-N.text.length;if(U<0){U=0}}var S=-1+U;P.moveStart("character",U);while(P.inRange(N)){P.moveStart("character");S++}var L=N.text.replace(/\r/g,"");return{start:S,end:L.length+S}}else{var M=-1;var R=-1;var O=$(Q).val();if(O){var T=document.selection.createRange().duplicate();T.moveEnd("character",O.length);M=(T.text==""?O.length:O.lastIndexOf(T.text));T=document.selection.createRange().duplicate();T.moveStart("character",-O.length);R=T.text.length}return{start:M,end:R}}}else{if(Q.selectionStart||Q.selectionStart==0){return{start:Q.selectionStart,end:Q.selectionEnd}}else{return{start:-1,end:-1}}}};this.setUnicodeSelectionRange=function(M,N,L){return E.setSelectionRange(M,N,L,true)};this.setSelectionRange=function(P,R,M,L){var Q=$(P).val();if(typeof R!="number"){R=-1}if(typeof M!="number"){M=-1}if(R<0){R=0}if(M>Q.length){M=Q.length}if(M<R){M=R}if(R>M){R=M}P.focus();if(L){var O;for(O=0;O<Q.length;++O){if(O>=R&&O>=M){break}if(m(Q.charCodeAt(O))&&(O+1)<Q.length&&s(Q.charCodeAt(O+1))){if(O<R){++R}if(O<M){++M}}}}if(typeof P.selectionStart!==K){P.selectionStart=R;P.selectionEnd=M}else{if(document.selection){var N=P.createTextRange();N.collapse(true);N.moveStart("character",R);N.moveEnd("character",M-R);N.select()}}};this.isKeyPress=function(M){if(!M){M=window.event}if(M.ctrlKey||M.metaKey){return false}var L=(typeof M.charCode!==K)?M.charCode:0;if(L>0||E.isIE){return true}else{if(E.isOpera){return(M.keyCode==13||M.keyCode==27||(M.keyCode>=32&&M.keyCode<125))}else{return(M.keyCode==13||M.keyCode==27||M.keyCode==32||(M.keyCode>46&&M.keyCode<112))}}};var J=null,l=null;this.isDblClick=function(M,L){if(M.wtClickTimeout&&Math.abs(M.wtE1.clientX-L.clientX)<3&&Math.abs(M.wtE1.clientY-L.clientY)<3){clearTimeout(M.wtClickTimeout);M.wtClickTimeout=null;M.wtE1=null;return true}else{return false}};this.eventRepeat=function(L,N,M){E.stopRepeat();N=N||500;M=M||50;L();J=setTimeout(function(){J=null;L();l=setInterval(L,M)},N)};this.stopRepeat=function(){if(J){clearTimeout(J);J=null}if(l){clearInterval(l);l=null}};var g=null,D=null;this.css=function(M,L){if(M.style[L]){return M.style[L]}else{if(M!==g){g=M;if(window.getComputedStyle){D=window.getComputedStyle(M,null)}else{if(M.currentStyle){D=M.currentStyle}else{D=null}}}return D?D[L]:null}};function F(P,O,N){if(P=="auto"||P==null){return N}var L=O.exec(P),M=L&&L.length==2?L[1]:null;return M?parseFloat(M):N}this.parsePx=function(L){return F(L,/^\s*(-?\d+(?:\.\d+)?)\s*px\s*$/i,0)};this.parsePct=function(M,L){return F(M,/^\s*(-?\d+(?:\.\d+)?)\s*\%\s*$/i,L)};this.px=function(M,L){return E.parsePx(E.css(M,L))};this.pxself=function(M,L){return E.parsePx(M.style[L])};this.pctself=function(M,L){return E.parsePct(M.style[L],0)};this.styleAttribute=function(P){function R(T){var U=T.search(/-./);while(U!=-1){var S=(T.charAt(U+1)).toUpperCase();T=T.replace(/-./,S);U=T.search(/-./)}return T}var Q=["","-moz-","-webkit-","-o-","-ms-"];var O=document.createElement("div"),N,M;for(N=0,M=Q.length;N<M;++N){var L=R(Q[N]+P);if(L in O.style){return L}}return R(P)};this.vendorPrefix=function(L){var M=["Moz","Webkit","O","Ms"];for(i=0,il=M.length;i<il;++i){if(L.search(M[i])!=-1){return M[i]}}return""};this.boxSizing=function(L){return(E.css(L,E.styleAttribute("box-sizing")))==="border-box"};this.isHidden=function(L){if(L.style.display=="none"||$(L).hasClass("out")){return true}else{L=L.parentNode;if(L&&!E.hasTag(L,"BODY")){return E.isHidden(L)}else{return false}}};this.innerWidth=function(M){var L=M.offsetWidth;if(!E.boxSizing(M)){L-=E.px(M,"paddingLeft")+E.px(M,"paddingRight")+E.px(M,"borderLeftWidth")+E.px(M,"borderRightWidth")}return L};this.innerHeight=function(M){var L=M.offsetHeight;if(!E.boxSizing(M)){L-=E.px(M,"paddingTop")+E.px(M,"paddingBottom")+E.px(M,"borderTopWidth")+E.px(M,"borderBottomWidth")}return L};this.IEwidth=function(O,M,L){if(O.parentNode){var N=O.parentNode.clientWidth-E.px(O,"marginLeft")-E.px(O,"marginRight")-E.px(O,"borderLeftWidth")-E.px(O,"borderRightWidth")-E.px(O.parentNode,"paddingLeft")-E.px(O.parentNode,"paddingRight");M=E.parsePct(M,0);L=E.parsePct(L,100000);if(N<M){return M-1}else{if(N>L){return L+1}else{if(O.style.styleFloat!=""){return M-1}else{return"auto"}}}}else{return"auto"}};this.hide=function(L){E.getElement(L).style.display="none"};this.inline=function(L){E.getElement(L).style.display="inline"};this.block=function(L){E.getElement(L).style.display="block"};this.show=function(M,L){E.getElement(M).style.display=L};var d=null;this.firedTarget=null;this.target=function(M){try{return E.firedTarget||M.target||M.srcElement}catch(L){return null}};function b(N){if(d==null){return null}if(!N){N=window.event}if(N){var L=E.target(N),M=L;while(M&&M!=d){M=M.parentNode}if(M==d){return E.isIElt9?L:null}else{return d}}else{return d}}function c(L){var M=b(L);if(M&&!I){if(!L){L=window.event}I=true;if(E.isIElt9){E.firedTarget=L.srcElement||M;M.fireEvent("onmousemove",L);E.firedTarget=null}else{E.condCall(M,"onmousemove",L)}I=false;return false}else{return true}}function C(L){var M=b(L);E.capture(null);if(M){if(!L){L=window.event}if(E.isIElt9){E.firedTarget=L.srcElement||M;M.fireEvent("onmouseup",L);E.firedTarget=null}else{E.condCall(M,"onmouseup",L)}E.cancelEvent(L,E.CancelPropagate);return false}else{return true}}function z(L){var M=b(L);if(M&&!I){if(!L){L=window.event}I=true;if(E.isIElt9){E.firedTarget=L.srcElement||M;M.fireEvent("ontouchmove",L);E.firedTarget=null}else{E.condCall(M,"ontouchmove",L)}I=false;return false}else{return true}}function k(L){var M=b(L);E.capture(null);if(M){if(!L){L=window.event}if(E.isIElt9){E.firedTarget=L.srcElement||M;M.fireEvent("ontouchend",L);E.firedTarget=null}else{E.condCall(M,"ontouchend",L)}E.cancelEvent(L,E.CancelPropagate);return false}else{return true}}var y=false;function B(L){if(L.addEventListener){L.addEventListener("mousemove",c,true);L.addEventListener("mouseup",C,true);if(E.isGecko){window.addEventListener("mouseout",function(M){if(!M.relatedTarget&&E.hasTag(M.target,"HTML")){C(M)}},true)}}else{L.attachEvent("onmousemove",c);L.attachEvent("onmouseup",C)}}function q(L){if(L.addEventListener){L.addEventListener("touchmove",z,true);L.addEventListener("touchend",k,true)}else{L.attachEvent("ontouchmove",z);L.attachEvent("ontouchend",k)}}function o(){if(y){return}y=true;var L=document.body;B(L);q(L)}this.capture=function(O){o();if(d&&O){return}for(var M=0;M<window.frames.length;M++){try{if(!window.frames[M].document.body.hasMouseHandlers){B(window.frames[M].document.body);window.frames[M].document.body.hasMouseHandlers=true}}catch(N){}}d=O;var L=document.body;if(!document.body.addEventListener){if(O!=null){L.setCapture()}else{L.releaseCapture()}}if(O!=null){$(L).addClass("unselectable");L.setAttribute("unselectable","on");L.onselectstart="return false;"}else{$(L).removeClass("unselectable");L.setAttribute("unselectable","off");L.onselectstart=""}};this.checkReleaseCapture=function(M,L){if(L&&d&&(M==d)&&(L.type=="mouseup"||L.type=="touchend")){this.capture(null)}};this.getElementsByClassName=function(O,L){if(document.getElementsByClassName){return L.getElementsByClassName(O)}else{var R=L.getElementsByTagName("*");var N=[],Q;for(var M=0,P=R.length;M<P;M++){Q=R[M];if(Q.className.indexOf(O)!=-1){N.push(Q)}}return N}};var w=null;function A(){if(!w){var M,L,O=document.styleSheets;for(M=0,L=O.length;M<L;++M){var N=O[M];if(E.hasTag(O[M].ownerNode,"STYLE")){w=N;break}}if(!w){var N=document.createElement("style");document.getElementsByTagName("head")[0].appendChild(N);w=N.sheet}}return w}this.addCss=function(L,N){var M=A();var O=M.cssRules?M.cssRules.length:0;M.insertRule(L+" { "+N+" }",O)};this.addCssText=function(O){var N=document.getElementById("Wt-inline-css");if(!N){N=document.createElement("style");N.id="Wt-inline-css";document.getElementsByTagName("head")[0].appendChild(N)}if(!N.styleSheet){var M=document.createTextNode(O);N.appendChild(M)}else{var L=N.previousSibling;if(!L||!E.hasTag(L,"STYLE")||L.styleSheet.cssText.length>32*1024){L=document.createElement("style");N.parentNode.insertBefore(L,N);L.styleSheet.cssText=O}else{L.styleSheet.cssText+=O}}};this.getCssRule=function(L,R){L=L.toLowerCase();if(document.styleSheets){for(var N=0;N<document.styleSheets.length;N++){var Q=document.styleSheets[N];var O=0;var M;do{M=null;try{if(Q.cssRules){M=Q.cssRules[O]}else{if(Q.rules){M=Q.rules[O]}}if(M&&M.selectorText){if(M.selectorText.toLowerCase()==L){if(R=="delete"){if(Q.cssRules){Q.deleteRule(O)}else{Q.removeRule(O)}return true}else{return M}}}}catch(P){}++O}while(M)}}return false};this.removeCssRule=function(L){return E.getCssRule(L,"delete")};this.addStyleSheet=function(N,P){if(document.createStyleSheet){setTimeout(function(){document.createStyleSheet(N)},15)}else{var M=document.createElement("link");M.setAttribute("href",N);M.setAttribute("type","text/css");M.setAttribute("rel","stylesheet");if(P!=""&&P!="all"){M.setAttribute("media",P)}var O=document.getElementsByTagName("link");if(O.length>0){var L=O[O.length-1];L.parentNode.insertBefore(M,L.nextSibling)}else{document.body.appendChild(M)}}};this.removeStyleSheet=function(O){if($('link[rel=stylesheet][href~="'+O+'"]')){$('link[rel=stylesheet][href~="'+O+'"]').remove()}var Q=document.styleSheets;for(var M=0;M<Q.length;++M){var L=Q[M];j=0;if(L){var P=null;do{try{if(L.cssRules){P=L.cssRules[j]}else{P=L.rules[j]}if(P&&P.cssText==='@import url("'+O+'");'){if(L.cssRules){L.deleteRule(j)}else{L.removeRule(j)}break}}catch(N){}++j}while(P)}}};this.windowSize=function(){var L,M;if(typeof(window.innerWidth)==="number"){L=window.innerWidth;M=window.innerHeight}else{L=document.documentElement.clientWidth;M=document.documentElement.clientHeight}return{x:L,y:M}};this.fitToWindow=function(ab,Q,P,W,T){var V=["left","right"],N=["top","bottom"];ab.style[V[0]]=ab.style[V[1]]="auto";ab.style[N[0]]=ab.style[N[1]]="auto";var Y=ab.offsetWidth,aa=ab.offsetHeight,M,ac,U=E.windowSize(),S=document.body.scrollLeft+document.documentElement.scrollLeft,R=document.body.scrollTop+document.documentElement.scrollTop;if(!$(ab).hasClass("Wt-tooltip")){Y=E.px(ab,"maxWidth")||Y;aa=E.px(ab,"maxHeight")||aa}var O=ab.offsetParent;if(!O){return}var L=E.widgetPageCoordinates(O);if(Y>U.x){Q=S;M=0}else{if(Q+Y>S+U.x){var Z=O.scrollLeft;if(O==document.body){Z=(O.clientWidth-U.x)}W=W-L.x+Z;Q=O.clientWidth-(W+E.px(ab,"marginRight"));M=1}else{var Z=O.scrollLeft;if(O==document.body){Z=0}Q=Q-L.x+Z;Q=Q-E.px(ab,"marginLeft");M=0}}if(aa>U.y){P=R;ac=0}else{if(P+aa>R+U.y){if(T>R+U.y){T=R+U.y}var X=O.scrollTop;if(O==document.body){X=(O.clientHeight-U.y)}T=T-L.y+X;P=O.clientHeight-(T+E.px(ab,"marginBottom")+E.px(ab,"borderBottomWidth"));ac=1}else{var X=O.scrollTop;if(O==document.body){X=0}P=P-L.y+X;P=P-E.px(ab,"marginTop")+E.px(ab,"borderTopWidth");ac=0}}ab.style[V[M]]=Q+"px";ab.style[N[ac]]=P+"px"};this.positionXY=function(O,L,N){var M=E.getElement(O);if(!E.isHidden(M)){M.style.display="block";E.fitToWindow(M,L,N,L,N)}};this.Horizontal=1;this.Vertical=2;this.positionAtWidget=function(M,P,N,W){var V=E.getElement(M),R=E.getElement(P);if(!W){W=0}if(!R||!V){return}var Z=E.widgetPageCoordinates(R),T,S,Y,X;V.style.position="absolute";if(E.css(V,"display")=="none"){V.style.display="block"}if(N===E.Horizontal){T=Z.x+R.offsetWidth;S=Z.y+W;Y=Z.x;X=Z.y+R.offsetHeight-W}else{T=Z.x;S=Z.y+R.offsetHeight;Y=Z.x+R.offsetWidth;X=Z.y}if(!V.wtNoReparent&&!$(V).hasClass("wt-no-reparent")){var L,O=R,U=$(".Wt-domRoot").get(0);V.parentNode.removeChild(V);for(L=O.parentNode;L!=U;L=L.parentNode){if(L.wtResize){break}if(E.css(L,"display")!="inline"&&L.clientHeight>100&&((L.scrollHeight>L.clientHeight&&getComputedStyle(L).overflowY!=="visible")||(L.scrollWidth>L.clientWidth&&getComputedStyle(L).overflowX!=="visible"))){break}O=L}var Q=E.css(L,"position");if(Q!="absolute"&&Q!="relative"){L.style.position="relative"}L.appendChild(V);$(V).addClass("wt-reparented")}E.fitToWindow(V,T,S,Y,X);V.style.visibility=""};this.hasFocus=function(L){try{return L===document.activeElement}catch(M){return false}};this.progressed=function(L){var O=document,M=O.body;var N=this.getElement("Wt-form");L.style.display=N.style.display;N.parentNode.replaceChild(L,N);if(M.removeEventListener){M.removeEventListener("click",delayClick,true)}else{M.detachEvent("click",delayClick)}setTimeout(function(){var R,P;for(R=0,P=delayedClicks.length;R<P;++R){if(O.createEvent){var T=delayedClicks[R];var Q=O.createEvent("MouseEvents");Q.initMouseEvent("click",T.bubbles,T.cancelable,window,T.detail,T.screenX,T.screenY,T.clientX,T.clientY,T.ctrlKey,T.altKey,T.shiftKey,T.metaKey,T.button,null);var S=E.getElement(T.targetId);if(S){S.dispatchEvent(Q)}}else{var T=delayedClicks[R];var Q=O.createEventObject();for(R in T){Q[R]=T[R]}var S=E.getElement(T.targetId);if(S){S.fireEvent("onclick",Q)}}}},0)};var v=!!(window.history&&window.history.pushState);function G(L){return L.replace(/%/g,"%25").replace(/\+/g,"%2b").replace(/ /g,"%20").replace(/&/g,"%26")}if(v){function n(Q,O){var P=null;var M=null;function L(){Q.apply(null,M);P=null;M=null}function N(){M=arguments;if(!P){P=setTimeout(L,O)}}return N}function p(){try{var M=window.history.state;if(window.history.state==null){M={};M.state="";M.title=window.document.title}M.pageXOffset=window.pageXOffset;M.pageYOffset=window.pageYOffset;window.history.replaceState(M,M.title)}catch(L){console.log(L.toString())}}window.addEventListener("scroll",n(p,10));window.history.scrollRestoration="manual";this.history=(function(){var Q=null,R=null,O=false,L=null,P={},N=window;function M(S){P[N.location.pathname+N.location.search]=S}return{_initialize:function(){},_initTimeout:function(){},register:function(S,U){Q=S;L=U;M(S);function T(V){var X=null;if(V.state&&V.state.state){X=V.state.state}if(X==null){X=P[N.location.pathname+N.location.search]}if(X==null){var W=N.location.pathname.lastIndexOf(Q);if(W!=-1&&W==N.location.pathname.length-Q.length){M(Q);return}else{X=N.location.pathname.substr(R.length)}}if(X!=Q){Q=X;U(Q!=""?Q:"/")}}N.addEventListener("popstate",T,false)},initialize:function(S,T,U){E.resolveRelativeAnchors();R=U;if(R.length>=1&&R[R.length-1]=="/"){_$_$if_UGLY_INTERNAL_PATHS_$_();O=true;_$_$endif_$_();_$_$ifnot_UGLY_INTERNAL_PATHS_$_();R=R.substr(0,R.length-1);_$_$endif_$_()}},navigate:function(Y,T){E.resolveRelativeAnchors();Q=Y;var Z=G(Y),V=R;if(Z.length!=0){V+=(O?"?_=":"")+Z}if(!O){V+=window.location.search}else{function W(ad){if(ad.length>1){ad=ad.substr(1)}var ab=ad.split("&"),ac,aa;ad="";for(ac=0,aa=ab.length;ac<aa;++ac){if(ab[ac].split("=")[0]!="_"){ad+=(ad.length?"&":"?")+ab[ac]}}return ad}var X=W(window.location.search);if(X.length>1){if(X.length>2&&X[0]=="?"&&X[1]=="&"){X=X.substr(1)}if(V.indexOf("?")==-1){V+="?"+X.substr(1)}else{V+="&"+X.substr(1)}}}try{var S={};S.state=Y?Y:"";S.title=document.title;p();window.history.pushState(S,document.title,V)}catch(U){console.log(U.toString())}if(T){L(Y)}},getCurrentState:function(){return Q}}})()}else{if(E.isIE8){this.history=(function(){var N=null,L=null,M=window;return{_initialize:function(){},_initTimeout:function(){},register:function(O,P){N=O;L=P;function Q(){if(N!=M.location.hash){N=M.location.hash.substring(1);L(N)}}M.onhashchange=Q},initialize:function(O,P,Q){},navigate:function(P,O){N=P;M.location.hash=P;if(O){L(P)}},getCurrentState:function(){return N}}})()}else{this.history=(function(){var Y=E.isIElt9;var ad=false;var U=null;var aa=null;var R=null;var L=false;var M=null;var N=[];var O,S;var Q=[];function V(){var af,ae;ae=location.href;af=ae.indexOf("#");return af>=0?ae.substr(af+1):null}function Z(){R.value=O+"|"+S}function X(){var af,ae;for(af=0,ae=Q.length;af<ae;++af){Q[af](unescape(S))}}function W(af){var ae;if(!af){S=O;X();return}ae=af;if(!ae||S!==ae){S=ae||O;X()}}function T(ah){var ae,ag;ae='<html><body><div id="state">'+ah+"</div></body></html>";try{ag=aa.contentWindow.document;ag.open();ag.write(ae);ag.close();return true}catch(af){return false}}function P(){var ah,ae,ag,af;if(!aa.contentWindow||!aa.contentWindow.document){setTimeout(P,10);return}ah=aa.contentWindow.document;ae=ah.getElementById("state");ag=ae?ae.innerText:null;af=V();setInterval(function(){var aj,ai;ah=aa.contentWindow.document;ae=ah.getElementById("state");aj=ae?ae.innerText:null;ai=V();if(aj!==ag){ag=aj;W(ag);if(!ag){ai=O}else{ai=ag}if(location.hash!=ai&&location.hash.substring(1)!=ai){location.hash=ai}af=ai;Z()}else{if(ai!==af){af=ai;T(ai)}}},50);L=true;if(U!=null){U()}}function ac(){if(Y){return}var af=V(),ae=history.length;if(M){clearInterval(M)}M=setInterval(function(){var ai,ag,ah;ag=V();ah=history.length;if(ag!==af){af=ag;ae=ah;W(af);Z()}},50)}function ab(){var ae;ae=R.value.split("|");if(ae.length>1){O=ae[0];S=ae[1]}else{O=S=""}if(ae.length>2){N=ae[2].split(",")}if(Y){P()}else{ac();L=true;if(U!=null){U()}}}return{_initialize:function(){if(R!=null){ab()}},_initTimeout:function(){ac()},register:function(ae,af){if(!L){O=escape(ae);S=O}Q.push(af)},initialize:function(ae,af){if(L){return}var ag=navigator.vendor||"";if(ag==="KDE"){}else{if(typeof window.opera!=="undefined"){ad=true}}if(typeof ae==="string"){ae=document.getElementById(ae)}if(!ae||ae.tagName.toUpperCase()!=="TEXTAREA"&&(ae.tagName.toUpperCase()!=="INPUT"||ae.type!=="hidden"&&ae.type!=="text")){return}R=ae;if(Y){if(typeof af==="string"){af=document.getElementById(af)}if(!af||af.tagName.toUpperCase()!=="IFRAME"){return}aa=af}},navigate:function(af,ae){af=G(af);if(!L){return}var ag=af;if(Y){T(ag)}else{if(ag.length>0){location.hash=ag}}if(ae){X()}},getCurrentState:function(){if(!L){return""}return unescape(S)}}})()}}})()}if(window._$_APP_CLASS_$_&&window._$_APP_CLASS_$_._p_){try{window._$_APP_CLASS_$_._p_.quit(null)}catch(e){}}window._$_APP_CLASS_$_=new (function(){var self=this;var WT=_$_WT_CLASS_$_;var UNDEFINED="undefined";var UNKNOWN="unknown";var downX=0;var downY=0;var deployUrl=_$_DEPLOY_PATH_$_;function saveDownPos(e){var coords=WT.pageCoordinates(e);downX=coords.x;downY=coords.y}var currentHash=null;function onHashChange(){var newLocation=_$_WT_CLASS_$_.history.getCurrentState();if(newLocation!=null&&newLocation.length>0&&newLocation.substr(0,1)!="/"){return}if(currentHash==newLocation){return}currentHash=newLocation;setTimeout(function(){update(null,"hash",null,true)},1)}function setHash(newLocation,generateEvent){if(currentHash==newLocation||(!currentHash&&newLocation=="/")){return}if(!generateEvent){currentHash=newLocation}WT.history.navigate(newLocation,generateEvent)}var dragState={object:null,sourceId:null,mimeType:null,dropOffsetX:null,dragOffsetY:null,dropTarget:null,objectPrevStyle:null,xy:null};function initDragDrop(){document.body.ondragstart=function(){return false}}var touchTimer;var touchduration=1000;function touchStart(obj,e){touchTimer=setTimeout(function(){dragStart(obj,e)},touchduration)}function touchEnded(){if(touchTimer){clearTimeout(touchTimer)}}function dragStart(obj,e){if(e.touches){if("vibrate" in navigator){navigator.vibrate=navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate;if(navigator.vibrate){navigator.vibrate(100)}}}if((e.ctrlKey||WT.button(e)>1)&&!e.touches){return true}var t=WT.target(e);if(t){if(WT.css(t,"display")!=="inline"&&(t.offsetWidth>t.clientWidth||t.offsetHeight>t.clientHeight)){var wc=WT.widgetPageCoordinates(t);var pc=WT.pageCoordinates(e);var x=pc.x-wc.x;var y=pc.y-wc.y;if(x>t.clientWidth||y>t.clientHeight){return true}}}var ds=dragState;ds.object=WT.getElement(obj.getAttribute("dwid"));if(ds.object==null){return true}ds.sourceId=obj.getAttribute("dsid");ds.objectPrevStyle={position:ds.object.style.position,display:ds.object.style.display,left:ds.object.style.left,top:ds.object.style.top,className:ds.object.className,parent:ds.object.parentNode,zIndex:ds.object.zIndex};ds.object.parentNode.removeChild(ds.object);ds.object.style.position="absolute";ds.object.className=ds.objectPrevStyle.className+"";ds.object.style.zIndex="1000";document.body.appendChild(ds.object);WT.capture(null);WT.capture(ds.object);ds.object.onmousemove=dragDrag;ds.object.onmouseup=dragEnd;if(document.addEventListener){document.addEventListener("mousedown",dragAbort);window.addEventListener("mouseup",dragAbort);document.addEventListener("touchstart",dragAbort)}else{document.attachEvent("onmousedown",dragAbort);window.attachEvent("onmouseup",dragAbort)}ds.object.ontouchmove=dragDrag;ds.object.ontouchend=dragEnd;ds.offsetX=-4;ds.offsetY=-4;ds.dropTarget=null;ds.mimeType=obj.getAttribute("dmt");ds.xy=WT.pageCoordinates(e);WT.cancelEvent(e,WT.CancelPropagate);return false}function dragDrag(e){e=e||window.event;if(dragState.object!==null){var ds=dragState;var xy=WT.pageCoordinates(e);if(ds.object.style.display!==""&&ds.xy.x!==xy.x&&ds.xy.y!==xy.y){ds.object.style.display=""}ds.object.style.left=(xy.x-ds.offsetX)+"px";ds.object.style.top=(xy.y-ds.offsetY)+"px";var prevDropTarget=ds.dropTarget;var t;if(e.changedTouches){ds.object.style.display="none";t=document.elementFromPoint(e.changedTouches[0].clientX,e.changedTouches[0].clientY);ds.object.style.display=""}else{t=WT.target(e);if(t==ds.object){if(document.elementFromPoint){ds.object.style.display="none";t=document.elementFromPoint(e.clientX,e.clientY);ds.object.style.display=""}}}var mimeType="{"+ds.mimeType+":";var amts=null;ds.dropTarget=null;while(t){amts=t.getAttribute("amts");if((amts!=null)&&(amts.indexOf(mimeType)!=-1)){ds.dropTarget=t;break}t=t.parentNode;if(!t.tagName||WT.hasTag(t,"HTML")){break}}if(ds.dropTarget!=prevDropTarget){if(ds.dropTarget){var s=amts.indexOf(mimeType)+mimeType.length;var se=amts.indexOf("}",s);var style=amts.substring(s,se);if(style.length!=0){ds.dropTarget.setAttribute("dos",ds.dropTarget.className);ds.dropTarget.className=ds.dropTarget.className+" "+style}}else{ds.object.styleClass=""}if(prevDropTarget!=null){if(prevDropTarget.handleDragDrop){prevDropTarget.handleDragDrop("end",ds.object,e,"",mimeType)}var dos=prevDropTarget.getAttribute("dos");if(dos!=null){prevDropTarget.className=dos}}}if(ds.dropTarget){if(ds.dropTarget.handleDragDrop){ds.dropTarget.handleDragDrop("drag",ds.object,e,"",mimeType)}else{ds.object.className=ds.objectPrevStyle.className+" Wt-valid-drop"}}else{ds.object.className=ds.objectPrevStyle.className+""}return false}return true}function dragAbort(){WT.capture(null);var ds=dragState;if(ds.object){document.body.removeChild(ds.object);ds.objectPrevStyle.parent.appendChild(ds.object);ds.object.style.zIndex=ds.objectPrevStyle.zIndex;ds.object.style.position=ds.objectPrevStyle.position;ds.object.style.display=ds.objectPrevStyle.display;ds.object.style.left=ds.objectPrevStyle.left;ds.object.style.top=ds.objectPrevStyle.top;ds.object.className=ds.objectPrevStyle.className;ds.object=null;if(touchTimer){clearTimeout(touchTimer)}}if(document.removeEventListener){document.removeEventListener("mousedown",dragAbort);window.removeEventListener("mouseup",dragAbort);document.removeEventListener("touchstart",dragAbort)}else{document.detachEvent("onmousedown",dragAbort);window.detachEvent("onmouseup",dragAbort)}}function dragEnd(e){e=e||window.event;WT.capture(null);var ds=dragState;if(ds.object){if(ds.dropTarget){var dos=ds.dropTarget.getAttribute("dos");if(dos!=null){ds.dropTarget.className=dos}if(ds.dropTarget.handleDragDrop){ds.dropTarget.handleDragDrop("drop",ds.object,e,ds.sourceId,ds.mimeType)}else{if(e.touches){emit(ds.dropTarget,{name:"_drop2",eventObject:ds.dropTarget,event:e},ds.sourceId,ds.mimeType)}else{emit(ds.dropTarget,{name:"_drop",eventObject:ds.dropTarget,event:e},ds.sourceId,ds.mimeType)}}}else{}dragAbort()}}function encodeTouches(s,touches,widgetCoords){var i,il,result;result=s+"=";for(i=0,il=touches.length;i<il;++i){var t=touches[i];if(i!=0){result+=";"}result+=[t.identifier,Math.round(t.clientX),Math.round(t.clientY),Math.round(t.pageX),Math.round(t.pageY),Math.round(t.screenX),Math.round(t.screenY),Math.round(t.pageX-widgetCoords.x),Math.round(t.pageY-widgetCoords.y)].join(";")}return result}var formObjects=[];function encodeEvent(event,i){var se,result,e;e=event.event;se=i>0?"&e"+i:"&";result=se+"signal="+event.signal;if(event.id){result+=se+"id="+event.id+se+"name="+encodeURIComponent(event.name)+se+"an="+event.args.length;for(var j=0;j<event.args.length;++j){result+=se+"a"+j+"="+encodeURIComponent(event.args[j])}}for(var x=0;x<formObjects.length;++x){var el=WT.getElement(formObjects[x]),v=null,j,jl;if(el==null){continue}if(el.wtEncodeValue){v=el.wtEncodeValue(el)}else{if(el.type=="select-multiple"){for(j=0,jl=el.options.length;j<jl;j++){if(el.options[j].selected){result+=se+formObjects[x]+"="+encodeURIComponent(el.options[j].value)}}}else{if(el.type=="checkbox"||el.type=="radio"){if(el.indeterminate||el.style.opacity=="0.5"){v="i"}else{if(el.checked){v=el.value}}}else{if(el.type!="file"){if($(el).hasClass("Wt-edit-emptyText")){v=""}else{if(el.ed){el.ed.save()}v=""+el.value}if(WT.hasFocus(el)){var range=WT.getUnicodeSelectionRange(el);result+=se+"selstart="+range.start+se+"selend="+range.end}}}}}if(v!=null){var component;try{component=encodeURIComponent(v);result+=se+formObjects[x]+"="+component}catch(e){console.error("Form object "+formObjects[x]+" failed to encode, discarded",e)}}}try{if(document.activeElement){result+=se+"focus="+document.activeElement.id}}catch(e){}if(currentHash!=null){result+=se+"_="+encodeURIComponent(currentHash)}if(!e){event.data=result;return event}var t=WT.target(e);while(t&&!t.id&&t.parentNode){t=t.parentNode}if(t&&t.id){result+=se+"tid="+t.id}try{if(typeof e.type==="string"){result+=se+"type="+e.type}}catch(e){}if(typeof e.clientX!==UNDEFINED&&typeof e.clientX!==UNKNOWN){result+=se+"clientX="+Math.round(e.clientX)+se+"clientY="+Math.round(e.clientY)}var pageCoords=WT.pageCoordinates(e);var posX=pageCoords.x;var posY=pageCoords.y;if(posX||posY){result+=se+"documentX="+Math.round(posX)+se+"documentY="+Math.round(posY);result+=se+"dragdX="+Math.round(posX-downX)+se+"dragdY="+Math.round(posY-downY);var delta=WT.wheelDelta(e);result+=se+"wheel="+Math.round(delta)}if(typeof e.screenX!==UNDEFINED&&typeof e.screenX!==UNKNOWN){result+=se+"screenX="+Math.round(e.screenX)+se+"screenY="+Math.round(e.screenY)}var widgetCoords={x:0,y:0};if(event.object&&event.object.nodeType!=9){widgetCoords=WT.widgetPageCoordinates(event.object);var objX=widgetCoords.x;var objY=widgetCoords.y;if(typeof event.object.scrollLeft!==UNDEFINED&&typeof event.object.scrollLeft!==UNKNOWN){result+=se+"scrollX="+Math.round(event.object.scrollLeft)+se+"scrollY="+Math.round(event.object.scrollTop)+se+"width="+Math.round(event.object.clientWidth)+se+"height="+Math.round(event.object.clientHeight)}result+=se+"widgetX="+Math.round(posX-objX)+se+"widgetY="+Math.round(posY-objY)}var button=WT.button(e);if(!button){if(WT.buttons&1){button=1}else{if(WT.buttons&2){button=2}else{if(WT.buttons&4){button=4}}}}result+=se+"button="+button;if(typeof e.keyCode!==UNDEFINED&&typeof e.keyCode!==UNKNOWN){result+=se+"keyCode="+e.keyCode}if(typeof e.type==="string"){var charCode=0;if(typeof e.charCode!==UNDEFINED){if(e.type==="keypress"){charCode=e.charCode}}else{if(e.type==="keypress"){charCode=e.keyCode}}result+=se+"charCode="+charCode}if(typeof e.altKey!==UNDEFINED&&typeof e.altKey!==UNKNOWN&&e.altKey){result+=se+"altKey=1"}if(typeof e.ctrlKey!==UNDEFINED&&typeof e.ctrlKey!==UNKNOWN&&e.ctrlKey){result+=se+"ctrlKey=1"}if(typeof e.metaKey!==UNDEFINED&&typeof e.metaKey!==UNKNOWN&&e.metaKey){result+=se+"metaKey=1"}if(typeof e.shiftKey!==UNDEFINED&&typeof e.shiftKey!==UNKNOWN&&e.shiftKey){result+=se+"shiftKey=1"}if(typeof e.touches!==UNDEFINED){result+=encodeTouches(se+"touches",e.touches,widgetCoords)}if(typeof e.targetTouches!==UNDEFINED){result+=encodeTouches(se+"ttouches",e.targetTouches,widgetCoords)}if(typeof e.changedTouches!==UNDEFINED){result+=encodeTouches(se+"ctouches",e.changedTouches,widgetCoords)}if(typeof e.scale!==UNDEFINED&&typeof e.scale!==UNKNOWN&&e.scale){result+=se+"scale="+e.scale}if(typeof e.rotation!==UNDEFINED&&typeof e.rotation!==UNKNOWN&&e.rotation){result+=se+"rotation="+e.rotation}event.data=result;return event}var sentEvents=[],pendingEvents=[];function encodePendingEvents(){var result="",feedback=false;for(var i=0;i<pendingEvents.length;++i){feedback=feedback||pendingEvents[i].feedback;result+=pendingEvents[i].data;var se=i>0?"&e"+i:"&";if(pendingEvents[i].evAckId<ackUpdateId){result+=se+"evAckId="+pendingEvents[i].evAckId}}sentEvents=pendingEvents;pendingEvents=[];return{feedback:feedback,result:result}}var sessionUrl,hasQuit=false,quitStr=_$_QUITTED_STR_$_,loaded=false,responsePending=null,pollTimer=null,keepAliveTimer=null,commErrors=0,serverPush=false,updateTimeout=null;function quit(hasQuitMessage){hasQuit=true;quitStr=hasQuitMessage;if(keepAliveTimer){clearInterval(keepAliveTimer);keepAliveTimer=null}if(pollTimer){clearTimeout(pollTimer);pollTimer=null}comm.cancel();var tr=$("#Wt-timers");if(tr.size()>0){WT.setHtml(tr.get(0),"",false)}}function doKeepAlive(){WT.history._initTimeout();if(commErrors==0){update(null,"keepAlive",null,false)}}function debug(s){document.body.innerHTML+=s}function setTitle(title){if(WT.isIEMobile){return}document.title=title}function load(fullapp){if(loaded){return}if(fullapp){if(!window._$_APP_CLASS_$_LoadWidgetTree){return}WT.history.initialize("Wt-history-field","Wt-history-iframe",deployUrl)}if(!("activeElement" in document)){function trackActiveElement(evt){if(evt&&evt.target){document.activeElement=evt.target==document?null:evt.target}}function trackActiveElementLost(evt){document.activeElement=null}document.addEventListener("focus",trackActiveElement,true);document.addEventListener("blur",trackActiveElementLost,true)}$(document).mousedown(WT.mouseDown).mouseup(WT.mouseUp);WT.history._initialize();initDragDrop();loaded=true;if(fullapp){window._$_APP_CLASS_$_LoadWidgetTree()}if(!hasQuit){if(!keepAliveTimer){keepAliveTimer=setInterval(doKeepAlive,_$_KEEP_ALIVE_$_000)}}}var currentHideLoadingIndicator=null;function cancelFeedback(timer){clearTimeout(timer);document.body.style.cursor="auto";if(currentHideLoadingIndicator!=null){try{currentHideLoadingIndicator()}catch(e){}currentHideLoadingIndicator=null}}function waitFeedback(){document.body.style.cursor="wait";currentHideLoadingIndicator=hideLoadingIndicator;showLoadingIndicator()}var nextWsRqId=0;var pendingWsRequests={};function wsWaitFeedback(){var now=Date.now();var maxRqId=-1;for(var wsReq in pendingWsRequests){if(pendingWsRequests.hasOwnProperty(wsReq)){if(now-pendingWsRequests[wsReq].time>=_$_INDICATOR_TIMEOUT_$_){if(currentHideLoadingIndicator==null){waitFeedback()}return}var wsReqI=parseInt(wsReq,10);if(wsReqI>maxRqId){maxRqId=wsReqI}}}nextWsRqId=maxRqId+1;document.body.style.cursor="auto";if(currentHideLoadingIndicator!=null){try{currentHideLoadingIndicator()}catch(e){}currentHideLoadingIndicator=null}}var WebSocketUnknown=0;var WebSocketConnecting=1;var WebSocketAckConnect=2;var WebSocketWorking=3;var WebSocketUnavailable=4;var websocket={state:WebSocketUnknown,socket:null,keepAlive:null,reconnectTries:0};var connectionMonitor=null;function setServerPush(how){serverPush=how}function doAutoJavaScript(){self._p_.autoJavaScript()}function doJavaScript(js){if(js){js="(function() {"+js+"})();";if(window.execScript){window.execScript(js)}else{window.eval(js)}}if(self==window._$_APP_CLASS_$_){doAutoJavaScript()}}function webSocketAckConnect(){websocket.socket.send("&signal=none&connected="+ackUpdateId);websocket.state=WebSocketWorking}function handleResponse(status,msg,timer){if(connectionMonitor){connectionMonitor.onStatusChange("connectionStatus",status==0?1:0)}if(hasQuit){return}if(waitingForJavaScript){setTimeout(function(){handleResponse(status,msg,timer)},50);return}if(status==0){WT.resolveRelativeAnchors();_$_$if_CATCH_ERROR_$_();try{_$_$endif_$_();doJavaScript(msg);_$_$if_CATCH_ERROR_$_()}catch(e){var stack=e.stack||e.stacktrace;var description=e.description||e.message;var err={exception_code:e.code,exception_description:description,exception_js:msg};err.stack=stack;sendError(err,"Wt internal error; code: "+e.code+", description: "+description);throw e}_$_$endif_$_();if(timer){cancelFeedback(timer)}}else{pendingEvents=sentEvents.concat(pendingEvents)}sentEvents=[];if(pollTimer){clearTimeout(pollTimer);pollTimer=null}responsePending=null;if(status>0){++commErrors}else{commErrors=0}if(hasQuit){return}if(websocket.state==WebSocketAckConnect){webSocketAckConnect()}if((serverPush&&!waitingForJavaScript)||pendingEvents.length>0){if(status==1){var ms=Math.min(120000,Math.exp(commErrors)*500);updateTimeout=setTimeout(function(){sendUpdate()},ms)}else{if(updateTimeout==null){sendUpdate()}}}}function setSessionUrl(url){if(url.indexOf("://")!=-1||url[0]=="/"){sessionUrl=url}else{sessionUrl=deployUrl+url}if(comm){comm.setUrl(url)}}setSessionUrl(_$_SESSION_URL_$_);var comm=WT.initAjaxComm(sessionUrl,handleResponse);function doPollTimeout(){responsePending.abort();responsePending=null;pollTimer=null;if(!hasQuit){sendUpdate()}}function setConnectionMonitor(aMonitor){connectionMonitor=aMonitor;connectionMonitor.status={};connectionMonitor.status.connectionStatus=0;connectionMonitor.status.websocket=false;connectionMonitor.onStatusChange=function(type,newS){var old=connectionMonitor.status[type];if(old==newS){return}connectionMonitor.status[type]=newS;connectionMonitor.onChange(type,old,newS)}}var updating=false;function update(el,signalName,e,feedback){if(updating){return}updating=true;WT.checkReleaseCapture(el,e);_$_$if_STRICTLY_SERIALIZED_EVENTS_$_();if(!responsePending){_$_$endif_$_();var pendingEvent=new Object(),i=pendingEvents.length;pendingEvent.object=el;pendingEvent.signal=signalName;pendingEvent.event=window.fakeEvent||e;pendingEvent.feedback=feedback;pendingEvent.evAckId=ackUpdateId;pendingEvents[i]=encodeEvent(pendingEvent,i);scheduleUpdate();doJavaScript();_$_$if_STRICTLY_SERIALIZED_EVENTS_$_()}_$_$endif_$_();updating=false}var updateTimeoutStart;function schedulePing(){if(websocket.keepAlive){clearInterval(websocket.keepAlive)}websocket.keepAlive=setInterval(function(){var ws=websocket.socket;if(ws.readyState==1){ws.send("&signal=ping")}else{clearInterval(websocket.keepAlive);websocket.keepAlive=null}},_$_SERVER_PUSH_TIMEOUT_$_)}function scheduleUpdate(){if(hasQuit){if(!quitStr){return}if(confirm(quitStr)){document.location=document.location;quitStr=null;return}else{quitStr=null;return}}_$_$if_WEB_SOCKETS_$_();if(websocket.state!=WebSocketUnavailable){if(typeof window.WebSocket===UNDEFINED&&typeof window.MozWebSocket===UNDEFINED){websocket.state=WebSocketUnavailable}else{var ws=websocket.socket;if((ws==null||ws.readyState>1)){if(ws!=null&&websocket.state==WebSocketUnknown){websocket.state=WebSocketUnavailable}else{function reconnect(){if(!hasQuit){++websocket.reconnectTries;var ms=Math.min(120000,Math.exp(websocket.reconnectTries)*500);setTimeout(function(){scheduleUpdate()},ms)}}var protocolEnd=sessionUrl.indexOf("://"),wsurl;if(protocolEnd!=-1){wsurl="ws"+sessionUrl.substr(4)}else{var query=sessionUrl.substr(sessionUrl.indexOf("?"));wsurl="ws"+location.protocol.substr(4)+"//"+location.host+_$_WS_PATH_$_+query}wsurl+="&request=ws";var wsid=_$_WS_ID_$_;if(wsid.length>0){wsurl+="&wsid="+wsid}if(typeof window.WebSocket!==UNDEFINED){websocket.socket=ws=new WebSocket(wsurl)}else{websocket.socket=ws=new MozWebSocket(wsurl)}websocket.state=WebSocketConnecting;if(websocket.keepAlive){clearInterval(websocket.keepAlive)}websocket.keepAlive=null;ws.onmessage=function(event){var js=null;if(websocket.state==WebSocketConnecting){if(event.data=="connect"){if(responsePending!=null&&pollTimer!=null){clearTimeout(pollTimer);pollTimer=null;responsePending.abort();responsePending=null}if(responsePending){websocket.state=WebSocketAckConnect}else{webSocketAckConnect()}}else{console.log("WebSocket: was expecting a connect?");console.log(event.data);return}}else{if(connectionMonitor){connectionMonitor.onStatusChange("websocket",true);connectionMonitor.onStatusChange("connectionStatus",1)}websocket.state=WebSocketWorking;js=event.data}websocket.reconnectTries=0;if(js!=null){handleResponse(0,js,null)}};ws.onerror=function(event){if(connectionMonitor){connectionMonitor.onStatusChange("websocket",false)}if(websocket.reconnectTries==3&&websocket.state==WebSocketUnknown){websocket.state=WebSocketUnavailable}reconnect()};ws.onclose=function(event){if(connectionMonitor){connectionMonitor.onStatusChange("websocket",false)}if(websocket.reconnectTries==3&&websocket.state==WebSocketUnknown){websocket.state=WebSocketUnavailable}reconnect()};ws.onopen=function(event){if(connectionMonitor){connectionMonitor.onStatusChange("websocket",true);connectionMonitor.onStatusChange("connectionStatus",1)}schedulePing()}}}if((ws.readyState==1)&&(ws.state==WebSocketWorking)){schedulePing();sendUpdate();return}}}_$_$endif_$_();if(responsePending!=null&&pollTimer!=null){clearTimeout(pollTimer);pollTimer=null;responsePending.abort();responsePending=null}if(responsePending==null){if(updateTimeout==null){updateTimeout=setTimeout(function(){sendUpdate()},WT.updateDelay);updateTimeoutStart=(new Date).getTime()}else{if(commErrors){clearTimeout(updateTimeout);updateTimeout=null;sendUpdate()}else{var diff=(new Date).getTime()-updateTimeoutStart;if(diff>WT.updateDelay){clearTimeout(updateTimeout);updateTimeout=null;sendUpdate()}}}}}var ackUpdateId=_$_ACK_UPDATE_ID_$_,ackPuzzle=null;function responseReceived(updateId,puzzle){ackPuzzle=puzzle;ackUpdateId=updateId;comm.responseReceived(updateId)}function wsRqsDone(){for(var i=0;i<arguments.length;++i){var wsRqId=arguments[i];if(wsRqId in pendingWsRequests){clearTimeout(pendingWsRequests[wsRqId].tm);delete pendingWsRequests[wsRqId]}}wsWaitFeedback()}var pageId=0;function setPage(id){pageId=id}function sendError(err,errMsg){responsePending=comm.sendUpdate("request=jserror&err="+encodeURIComponent(JSON.stringify(err)),false,ackUpdateId,-1);_$_$if_SHOW_ERROR_$_();alert(errMsg);_$_$endif_$_()}function sendUpdate(){if(self!=window._$_APP_CLASS_$_){quit(null);return}if(responsePending){return}updateTimeout=null;var feedback;if(WT.isIEMobile){feedback=false}if(hasQuit){return}var data,tm,poll;var useWebSockets=websocket.socket!==null&&websocket.socket.readyState===1&&websocket.state===WebSocketWorking;if(pendingEvents.length>0){data=encodePendingEvents();tm=data.feedback?setTimeout(useWebSockets?wsWaitFeedback:waitFeedback,_$_INDICATOR_TIMEOUT_$_):null;poll=false}else{data={result:"&signal=poll"};tm=null;poll=true}if(!useWebSockets){data.result+="&ackId="+ackUpdateId}data.result+="&pageId="+pageId;if(ackPuzzle){var solution="";var d=$("#"+ackPuzzle).get(0);if(d){d=d.parentNode;for(;!WT.hasTag(d,"BODY");d=d.parentNode){if(d.id){if(solution!=""){solution+=","}solution+=d.id}}}data.result+="&ackPuzzle="+encodeURIComponent(solution)}function getParams(){return"_$_PARAMS_$_"}var params=getParams();if(params.length>0){data.result+="&Wt-params="+encodeURIComponent(params)}if(useWebSockets){responsePending=null;if(!poll){if(tm){var wsRqId=nextWsRqId;pendingWsRequests[wsRqId]={time:Date.now(),tm:tm};++nextWsRqId;data.result+="&wsRqId="+wsRqId}websocket.socket.send(data.result)}}else{if(responsePending){try{throw new Error("responsePending is true before comm.sendUpdate")}catch(e){var stack=e.stack||e.stacktrace;var description=e.description||e.message;var err={exception_description:description};err.stack=stack;sendError(err,"Wt internal error; description: "+description);throw e}}pollTimer=poll?setTimeout(doPollTimeout,_$_SERVER_PUSH_TIMEOUT_$_):null;responsePending=1;responsePending=comm.sendUpdate("request=jsupdate"+data.result,tm,ackUpdateId,-1)}}function propagateSize(element,width,height){if(width==-1){width=element.offsetWidth}if(height==-1){height=element.offsetHeight}if((typeof element.wtWidth===UNDEFINED)||(element.wtWidth!=width)||(typeof element.wtHeight===UNDEFINED)||(element.wtHeight!=height)){element.wtWidth=width;element.wtHeight=height;if(width>=0&&height>=0){emit(element,"resized",Math.round(width),Math.round(height))}}}function emit(object,config){var userEvent=new Object(),ei=pendingEvents.length;userEvent.signal="user";if(typeof object==="string"){userEvent.id=object}else{if(object==self){userEvent.id="app"}else{userEvent.id=object.id}}if(typeof config==="object"){userEvent.name=config.name;userEvent.object=config.eventObject;userEvent.event=config.event}else{userEvent.name=config;userEvent.object=userEvent.event=null}userEvent.args=[];for(var i=2;i<arguments.length;++i){var a=arguments[i],r;if(a===false){r=0}else{if(a===true){r=1}else{if(a&&a.toDateString){r=a.toDateString()}else{r=a}}}userEvent.args[i-2]=r}userEvent.feedback=true;userEvent.evAckId=ackUpdateId;pendingEvents[ei]=encodeEvent(userEvent,ei);scheduleUpdate()}function addTimerEvent(timerid,msec,repeat){var tm=function(){var obj=WT.getElement(timerid);if(obj){if(repeat){obj.timer=setTimeout(obj.tm,msec)}else{obj.timer=null;obj.tm=null}if(obj.onclick){obj.onclick()}}};var obj=WT.getElement(timerid);if(obj.timer){clearTimeout(obj.timer)}obj.timer=setTimeout(tm,msec);obj.tm=tm}var jsLibsLoaded={};var waitingForJavaScript=false;function onJsLoad(path,f){setTimeout(function(){if(jsLibsLoaded[path]===true){waitingForJavaScript=false;f();if(!waitingForJavaScript&&serverPush){sendUpdate()}}else{jsLibsLoaded[path]=f}},20);waitingForJavaScript=true}function jsLoaded(path){if(jsLibsLoaded[path]===true){return}else{if(typeof jsLibsLoaded[path]!==UNDEFINED){waitingForJavaScript=false;jsLibsLoaded[path]();if(!waitingForJavaScript&&serverPush){sendUpdate()}}jsLibsLoaded[path]=true}}function loadScript(uri,symbol,tries){var loaded=false,error=false;function onerror(){if(!loaded&&!error){error=true;var t=tries===undefined?(WT.isIE?1:2):tries;if(t>1){loadScript(uri,symbol,t-1)}else{var err={"error-description":"Fatal error: failed loading "+uri};sendError(err,err["error-description"]);quit(null)}}}function onload(){if(!loaded&&!error){loaded=true;jsLoaded(uri)}}if(symbol!=""){try{loaded=!eval("typeof "+symbol+" === 'undefined'")}catch(e){loaded=false}}if(!loaded){var s=document.createElement("script");s.setAttribute("src",uri);s.onload=onload;s.onerror=onerror;s.onreadystatechange=function(){var rs=s.readyState;if(rs=="loaded"){if(WT.isOpera||WT.isIE){onload()}else{onerror()}}else{if(rs=="complete"){onload()}}};var h=document.getElementsByTagName("head")[0];h.appendChild(s)}else{jsLoaded(uri)}}function ImagePreloader(uris,callback){this.callback=callback;this.work=uris.length;this.images=[];if(uris.length==0){this.callback(this.images)}else{for(var i=0;i<uris.length;i++){this.preload(uris[i])}}}ImagePreloader.prototype.preload=function(uri){var image=new Image;this.images.push(image);image.onload=ImagePreloader.prototype.onload;image.onerror=ImagePreloader.prototype.onload;image.onabort=ImagePreloader.prototype.onload;image.imagePreloader=this;image.src=uri};ImagePreloader.prototype.onload=function(){var preloader=this.imagePreloader;if(--preloader.work==0){preloader.callback(preloader.images)}};ImagePreloader.prototype.cancel=function(){var images=this.images;for(var i=0;i<images.length;++i){images[i].onload=function(){};images[i].onerror=function(){};images[i].onabort=function(){}}this.callback=function(){}};function ArrayBufferPreloader(uris,callback){this.callback=callback;this.work=uris.length;this.arrayBuffers=[];if(uris.length==0){callback(this.arrayBuffers)}else{for(var i=0;i<uris.length;i++){this.preload(uris[i],i)}}}ArrayBufferPreloader.prototype.preload=function(uri,index){var xhr=new XMLHttpRequest();xhr.open("GET",uri,true);xhr.responseType="arraybuffer";xhr.arrayBuffers=this.arrayBuffers;xhr.preloader=this;xhr.index=index;xhr.uri=uri;xhr.onload=function(e){console.log("XHR load buffer "+this.index+" from uri "+this.uri);this.arrayBuffers[this.index]=this.response;this.preloader.afterLoad()};xhr.onerror=ArrayBufferPreloader.prototype.afterload;xhr.onabort=ArrayBufferPreloader.prototype.afterload;xhr.send()};ArrayBufferPreloader.prototype.afterLoad=function(){if(--this.work==0){this.callback(this.arrayBuffers)}};function enableInternalPaths(initialHash){currentHash=initialHash;WT.history.register(initialHash,onHashChange)}function ieAlternative(d){if(d.ieAlternativeExecuted){return"0"}self.emit(d.parentNode,"IeAlternative");d.style.width="";d.ieAlternativeExecuted=true;return"0"}window.onunload=function(){if(!hasQuit){self.emit(self,"Wt-unload");scheduleUpdate();sendUpdate()}};function setLocale(m){if(WT.isIEMobile||m==""){return}document.documentElement.lang=m}function setCloseMessage(m){if(m&&m!=""){window.onbeforeunload=function(event){var e=event||window.event;if(e){e.returnValue=m}return m}}else{window.onbeforeunload=null}}var firstCall=true;var globalEventsFunctions=null;var keyEvents=["keydown","keyup","keypress"];function updateGlobal(id){firstCall=false;var domId;if(id==null){domId=$(".Wt-domRoot").get(0).id}else{domId=id}for(var i=0;i<keyEvents.length;++i){var elemEvents=globalEventsFunctions?globalEventsFunctions[domId]:null;var eventFunc=null;if(elemEvents){eventFunc=elemEvents[keyEvents[i]]}var bindEvent=function(evtfunc){return function(event){var g=event||window.event;var t=g.target||g.srcElement;if((!t|WT.hasTag(t,"DIV")||WT.hasTag(t,"BODY")||WT.hasTag(t,"HTML"))){var func=evtfunc;if(func){func(event)}}}};if(eventFunc){document["on"+keyEvents[i]]=bindEvent(eventFunc)}else{document["on"+keyEvents[i]]=null}}if(globalEventsFunctions){for(var i in globalEventsFunctions){if(!document.getElementById(i)){delete globalEventsFunctions[i]}}}}function bindGlobal(event,id,f){var init=false;if(!globalEventsFunctions){globalEventsFunctions={};init=true}if(!globalEventsFunctions[id]){globalEventsFunctions[id]={}}globalEventsFunctions[id][event]=f;if(init){setTimeout(function(){if(firstCall){updateGlobal(null)}},0)}}function refreshMultiSessionCookie(){comm.sendUpdate("request=jsupdate&signal=keepAlive&ackId="+ackUpdateId,false,ackUpdateId,-1)}this._p_={ieAlternative:ieAlternative,loadScript:loadScript,onJsLoad:onJsLoad,setTitle:setTitle,setLocale:setLocale,update:update,quit:quit,setSessionUrl:setSessionUrl,setFormObjects:function(o){formObjects=o},saveDownPos:saveDownPos,addTimerEvent:addTimerEvent,load:load,setServerPush:setServerPush,touchStart:touchStart,touchEnded:touchEnded,dragStart:dragStart,dragDrag:dragDrag,dragEnd:dragEnd,capture:WT.capture,enableInternalPaths:enableInternalPaths,onHashChange:onHashChange,setHash:setHash,ImagePreloader:ImagePreloader,ArrayBufferPreloader:ArrayBufferPreloader,doAutoJavaScript:doAutoJavaScript,autoJavaScript:function(){},response:responseReceived,wsRqsDone:wsRqsDone,setPage:setPage,setCloseMessage:setCloseMessage,setConnectionMonitor:setConnectionMonitor,updateGlobal:updateGlobal,bindGlobal:bindGlobal,refreshCookie:refreshMultiSessionCookie,propagateSize:propagateSize};this.WT=_$_WT_CLASS_$_;this.emit=emit})();window._$_APP_CLASS_$_SignalEmit=_$_APP_CLASS_$_.emit;window._$_APP_CLASS_$_OnLoad=function(){_$_APP_CLASS_$_._p_.load()};